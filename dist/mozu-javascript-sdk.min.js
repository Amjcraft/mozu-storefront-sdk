/*! 
 * Mozu JavaScript SDK - v0.2.0 - 2014-01-20
 *
 * Copyright (c) 2014 Volusion, Inc.
 *
 */

!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.MozuSDK=e()}}(function(){var e;return function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw Error("Cannot find module '"+a+"'")}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return i(r?r:t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;n.length>a;a++)i(n[a]);return i}({1:[function(){},{}],2:[function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length))throw t=arguments[1],t instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];r.apply(this,s)}else if(o(r)){for(i=arguments.length,s=Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];for(c=r.slice(),i=c.length,u=0;i>u;u++)c[u].apply(this,s)}return!0},r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-->0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(0>i)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}],3:[function(e,t){var r=t.exports;e("events").EventEmitter;var n=e("./lib/request"),i=e("url");r.request=function(e,t){"string"==typeof e&&(e=i.parse(e)),e||(e={}),e.host||e.port||(e.port=parseInt(window.location.port,10)),!e.host&&e.hostname&&(e.host=e.hostname),e.scheme||(e.scheme=window.location.protocol.split(":")[0]),e.host||(e.host=window.location.hostname||window.location.host),/:/.test(e.host)&&(e.port||(e.port=e.host.split(":")[1]),e.host=e.host.split(":")[0]),e.port||(e.port="https"==e.scheme?443:80);var r=new n(new o,e);return t&&r.on("response",t),r},r.get=function(e,t){e.method="GET";var n=r.request(e,t);return n.end(),n},r.Agent=function(){},r.Agent.defaultMaxSockets=4;var o=function(){if("undefined"==typeof window)throw Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var e=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],t=0;e.length>t;t++)try{var r=new window.ActiveXObject(e[t]);return function(){if(r){var n=r;return r=null,n}return new window.ActiveXObject(e[t])}}catch(n){}throw Error("ajax not supported in this browser")}throw Error("ajax not supported in this browser")}()},{"./lib/request":4,events:2,url:26}],4:[function(e,t){var r=e("stream"),n=e("./response"),i=e("Base64"),o=e("inherits"),a=t.exports=function(e,t){var r=this;r.writable=!0,r.xhr=e,r.body=[],r.uri=(t.scheme||"http")+"://"+t.host+(t.port?":"+t.port:"")+(t.path||"/");try{e.withCredentials=!0}catch(o){}if(e.open(t.method||"GET",r.uri,!0),t.headers)for(var a=s(t.headers),c=0;a.length>c;c++){var f=a[c];if(r.isSafeRequestHeader(f)){var l=t.headers[f];if(u(l))for(var h=0;l.length>h;h++)e.setRequestHeader(f,l[h]);else e.setRequestHeader(f,l)}}t.auth&&this.setHeader("Authorization","Basic "+i.btoa(t.auth));var d=new n;d.on("close",function(){r.emit("close")}),d.on("ready",function(){r.emit("response",d)}),e.onreadystatechange=function(){d.handle(e)}};o(a,r),a.prototype.setHeader=function(e,t){if(u(t))for(var r=0;t.length>r;r++)this.xhr.setRequestHeader(e,t[r]);else this.xhr.setRequestHeader(e,t)},a.prototype.write=function(e){this.body.push(e)},a.prototype.destroy=function(){this.xhr.abort(),this.emit("close")},a.prototype.end=function(e){if(void 0!==e&&this.body.push(e),0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(u(this.body[0])){for(var t=[],r=0;this.body.length>r;r++)t.push.apply(t,this.body[r]);this.xhr.send(t)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var n=0,r=0;this.body.length>r;r++)n+=this.body[r].length;for(var t=new this.body[0].constructor(n),i=0,r=0;this.body.length>r;r++)for(var o=this.body[r],a=0;o.length>a;a++)t[i++]=o[a];this.xhr.send(t)}else{for(var t="",r=0;this.body.length>r;r++)t+=""+this.body[r];this.xhr.send(t)}},a.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],a.prototype.isSafeRequestHeader=function(e){return e?-1===c(a.unsafeHeaders,e.toLowerCase()):!1};var s=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0;e.length>r;r++)if(e[r]===t)return r;return-1}},{"./response":5,Base64:6,inherits:8,stream:19}],5:[function(e,t){function r(e){for(var t=e.getAllResponseHeaders().split(/\r?\n/),r={},n=0;t.length>n;n++){var i=t[n];if(""!==i){var o=i.match(/^([^:]+):\s*(.*)/);if(o){var a=o[1].toLowerCase(),u=o[2];void 0!==r[a]?s(r[a])?r[a].push(u):r[a]=[r[a],u]:r[a]=u}else r[i]=!0}}return r}var n=e("stream"),i=e("util"),o=t.exports=function(){this.offset=0,this.readable=!0};i.inherits(o,n);var a={streaming:!0,status2:!0};o.prototype.getResponse=function(e){var t=(e.responseType+"").toLowerCase();return"blob"===t?e.responseBlob||e.response:"arraybuffer"===t?e.response:e.responseText},o.prototype.getHeader=function(e){return this.headers[e.toLowerCase()]},o.prototype.handle=function(e){if(2===e.readyState&&a.status2){try{this.statusCode=e.status,this.headers=r(e)}catch(t){a.status2=!1}a.status2&&this.emit("ready")}else if(a.streaming&&3===e.readyState){try{this.statusCode||(this.statusCode=e.status,this.headers=r(e),this.emit("ready"))}catch(t){}try{this._emitData(e)}catch(t){a.streaming=!1}}else 4===e.readyState&&(this.statusCode||(this.statusCode=e.status,this.emit("ready")),this._emitData(e),e.error?this.emit("error",this.getResponse(e)):this.emit("end"),this.emit("close"))},o.prototype._emitData=function(e){var t=this.getResponse(e);return(""+t).match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(t,this.offset)),this.offset=t.byteLength,void 0):(t.length>this.offset&&(this.emit("data",t.slice(this.offset)),this.offset=t.length),void 0)};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{stream:19,util:28}],6:[function(e,t,r){(function(){function e(e){this.message=e}var t=r!==void 0?r:this,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=Error(),e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var r,i,o=0,a=n,s="";t.charAt(0|o)||(a="=",o%1);s+=a.charAt(63&r>>8-8*(o%1))){if(i=t.charCodeAt(o+=.75),i>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return s}),t.atob||(t.atob=function(t){if(t=t.replace(/=+$/,""),1==t.length%4)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,a=0,s="";i=t.charAt(a++);~i&&(r=o%4?64*r+i:i,o++%4)?s+=String.fromCharCode(255&r>>(6&-2*o)):0)i=n.indexOf(i);return s})})()},{}],7:[function(e,t){var r=e("http"),n=t.exports;for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);n.request=function(e,t){return e||(e={}),e.scheme="https",r.request.call(this,e,t)}},{http:3}],8:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],9:[function(e,t){e=function r(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof e&&e;if(!u&&c)return c(s,!0);if(a)return a(s,!0);throw Error("Cannot find module '"+s+"'")}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return o(r?r:e)},f,f.exports,r,t,n,i)}return n[s].exports}for(var a="function"==typeof e&&e,s=0;i.length>s;s++)o(i[s]);return o}({PcZj9L:[function(e,t,r){function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);var i=typeof e;if("base64"===t&&"string"===i)for(e=O(e);0!==e.length%4;)e+="=";var o;if("number"===i)o=L(e);else if("string"===i)o=n.byteLength(e,t);else{if("object"!==i)throw Error("First argument needs to be a number, array or string.");o=L(e.length)}var a;V?a=x(new Uint8Array(o)):(a=this,a.length=o);var s;if(n.isBuffer(e))a.set(e);else if(U(e))for(s=0;o>s;s++)a[s]=n.isBuffer(e)?e.readUInt8(s):e[s];else if("string"===i)a.write(e,0,t);else if("number"===i&&!V&&!r)for(s=0;o>s;s++)a[s]=0;return a}function i(e,t,r,i){r=Number(r)||0;var o=e.length-r;i?(i=Number(i),i>o&&(i=o)):i=o;var a=t.length;if(0!==a%2)throw Error("Invalid hex string");i>a/2&&(i=a/2);for(var s=0;i>s;s++){var u=parseInt(t.substr(2*s,2),16);if(isNaN(u))throw Error("Invalid hex string");e[r+s]=u}return n._charsWritten=2*s,s}function o(e,t,r,i){return n._charsWritten=B(R(t),e,r,i)}function a(e,t,r,i){return n._charsWritten=B(D(t),e,r,i)}function s(e,t,r,n){return a(e,t,r,n)}function u(e,t,r,i){return n._charsWritten=B(M(t),e,r,i)}function c(e,t,r){return 0===t&&r===e.length?G.fromByteArray(e):G.fromByteArray(e.slice(t,r))}function f(e,t,r){var n="",i="";r=Math.min(e.length,r);for(var o=t;r>o;o++)127>=e[o]?(n+=k(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return n+k(i)}function l(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function h(e,t,r){return l(e,t,r)}function d(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",o=t;r>o;o++)i+=P(e[o]);return i}function p(e,t,r,n){n||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==t&&null!==t,"missing offset"),z(e.length>t+1,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){if(V){if(i>t+1)return e._dataview.getUint16(t,r);var o=new DataView(new ArrayBuffer(2));return o.setUint8(0,e[i-1]),o.getUint16(0,r)}var a;return r?(a=e[t],i>t+1&&(a|=e[t+1]<<8)):(a=e[t]<<8,i>t+1&&(a|=e[t+1])),a}}function g(e,t,r,n){n||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==t&&null!==t,"missing offset"),z(e.length>t+3,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){if(V){if(i>t+3)return e._dataview.getUint32(t,r);for(var o=new DataView(new ArrayBuffer(4)),a=0;i>a+t;a++)o.setUint8(a,e[a+t]);return o.getUint32(0,r)}var s;return r?(i>t+2&&(s=e[t+2]<<16),i>t+1&&(s|=e[t+1]<<8),s|=e[t],i>t+3&&(s+=e[t+3]<<24>>>0)):(i>t+1&&(s=e[t+1]<<16),i>t+2&&(s|=e[t+2]<<8),i>t+3&&(s|=e[t+3]),s+=e[t]<<24>>>0),s}}function v(e,t,r,n){n||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==t&&null!==t,"missing offset"),z(e.length>t+1,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){if(V){if(t+1===i){var o=new DataView(new ArrayBuffer(2));return o.setUint8(0,e[i-1]),o.getInt16(0,r)}return e._dataview.getInt16(t,r)}var a=p(e,t,r,!0),s=32768&a;return s?-1*(65535-a+1):a}}function m(e,t,r,n){n||(z("boolean"==typeof r,"missing or invalid endian"),z(void 0!==t&&null!==t,"missing offset"),z(e.length>t+3,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){if(V){if(t+3>=i){for(var o=new DataView(new ArrayBuffer(4)),a=0;i>a+t;a++)o.setUint8(a,e[a+t]);return o.getInt32(0,r)}return e._dataview.getInt32(t,r)}var s=g(e,t,r,!0),u=2147483648&s;return u?-1*(4294967295-s+1):s}}function y(e,t,r,n){return n||(z("boolean"==typeof r,"missing or invalid endian"),z(e.length>t+3,"Trying to read beyond buffer length")),V?e._dataview.getFloat32(t,r):W.read(e,t,r,23,4)}function b(e,t,r,n){return n||(z("boolean"==typeof r,"missing or invalid endian"),z(e.length>t+7,"Trying to read beyond buffer length")),V?e._dataview.getFloat64(t,r):W.read(e,t,r,52,8)}function w(e,t,r,n,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(e.length>r+1,"trying to write beyond buffer length"),F(t,65535));var o=e.length;if(!(r>=o))if(V)if(r+1===o){var a=new DataView(new ArrayBuffer(2));a.setUint16(0,t,n),e[r]=a.getUint8(0)}else e._dataview.setUint16(r,t,n);else for(var s=0,u=Math.min(o-r,2);u>s;s++)e[r+s]=(t&255<<8*(n?s:1-s))>>>8*(n?s:1-s)}function S(e,t,r,n,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(e.length>r+3,"trying to write beyond buffer length"),F(t,4294967295));var o=e.length;if(!(r>=o)){var a;if(V)if(r+3>=o){var s=new DataView(new ArrayBuffer(4));for(s.setUint32(0,t,n),a=0;o>a+r;a++)e[a+r]=s.getUint8(a)}else e._dataview.setUint32(r,t,n);else for(a=0,j=Math.min(o-r,4);j>a;a++)e[r+a]=255&t>>>8*(n?a:3-a)}}function E(e,t,r,n,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(e.length>r+1,"Trying to write beyond buffer length"),q(t,32767,-32768));var o=e.length;if(!(r>=o))if(V)if(r+1===o){var a=new DataView(new ArrayBuffer(2));a.setInt16(0,t,n),e[r]=a.getUint8(0)}else e._dataview.setInt16(r,t,n);else t>=0?w(e,t,r,n,i):w(e,65535+t+1,r,n,i)}function T(e,t,r,n,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(e.length>r+3,"Trying to write beyond buffer length"),q(t,2147483647,-2147483648));var o=e.length;if(!(r>=o))if(V)if(r+3>=o){var a=new DataView(new ArrayBuffer(4));a.setInt32(0,t,n);for(var s=0;o>s+r;s++)e[s+r]=a.getUint8(s)}else e._dataview.setInt32(r,t,n);else t>=0?S(e,t,r,n,i):S(e,4294967295+t+1,r,n,i)}function I(e,t,r,n,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(e.length>r+3,"Trying to write beyond buffer length"),H(t,3.4028234663852886e38,-3.4028234663852886e38));var o=e.length;if(!(r>=o))if(V)if(r+3>=o){var a=new DataView(new ArrayBuffer(4));a.setFloat32(0,t,n);for(var s=0;o>s+r;s++)e[s+r]=a.getUint8(s)}else e._dataview.setFloat32(r,t,n);else W.write(e,t,r,n,23,4)}function A(e,t,r,n,i){i||(z(void 0!==t&&null!==t,"missing value"),z("boolean"==typeof n,"missing or invalid endian"),z(void 0!==r&&null!==r,"missing offset"),z(e.length>r+7,"Trying to write beyond buffer length"),H(t,1.7976931348623157e308,-1.7976931348623157e308));var o=e.length;if(!(r>=o))if(V)if(r+7>=o){var a=new DataView(new ArrayBuffer(8));a.setFloat64(0,t,n);for(var s=0;o>s+r;s++)e[s+r]=a.getUint8(s)}else e._dataview.setFloat64(r,t,n);else W.write(e,t,r,n,52,8)}function _(){return new n(this).buffer}function O(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function x(e){return e._isBuffer=!0,e.write=J.write,e.toString=J.toString,e.toLocaleString=J.toString,e.toJSON=J.toJSON,e.copy=J.copy,e.slice=J.slice,e.readUInt8=J.readUInt8,e.readUInt16LE=J.readUInt16LE,e.readUInt16BE=J.readUInt16BE,e.readUInt32LE=J.readUInt32LE,e.readUInt32BE=J.readUInt32BE,e.readInt8=J.readInt8,e.readInt16LE=J.readInt16LE,e.readInt16BE=J.readInt16BE,e.readInt32LE=J.readInt32LE,e.readInt32BE=J.readInt32BE,e.readFloatLE=J.readFloatLE,e.readFloatBE=J.readFloatBE,e.readDoubleLE=J.readDoubleLE,e.readDoubleBE=J.readDoubleBE,e.writeUInt8=J.writeUInt8,e.writeUInt16LE=J.writeUInt16LE,e.writeUInt16BE=J.writeUInt16BE,e.writeUInt32LE=J.writeUInt32LE,e.writeUInt32BE=J.writeUInt32BE,e.writeInt8=J.writeInt8,e.writeInt16LE=J.writeInt16LE,e.writeInt16BE=J.writeInt16BE,e.writeInt32LE=J.writeInt32LE,e.writeInt32BE=J.writeInt32BE,e.writeFloatLE=J.writeFloatLE,e.writeFloatBE=J.writeFloatBE,e.writeDoubleLE=J.writeDoubleLE,e.writeDoubleBE=J.writeDoubleBE,e.fill=J.fill,e.inspect=J.inspect,e.toArrayBuffer=_,0!==e.byteLength&&(e._dataview=new DataView(e.buffer,e.byteOffset,e.byteLength)),e}function C(e,t,r){return"number"!=typeof e?r:(e=~~e,e>=t?t:e>=0?e:(e+=t,e>=0?e:0))}function L(e){return e=~~Math.ceil(+e),0>e?0:e}function N(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function U(e){return N(e)||n.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function P(e){return 16>e?"0"+e.toString(16):e.toString(16)}function R(e){for(var t=[],r=0;e.length>r;r++)if(127>=e.charCodeAt(r))t.push(e.charCodeAt(r));else for(var n=encodeURIComponent(e.charAt(r)).substr(1).split("%"),i=0;n.length>i;i++)t.push(parseInt(n[i],16));return t}function D(e){for(var t=[],r=0;e.length>r;r++)t.push(255&e.charCodeAt(r));return t}function M(e){return G.toByteArray(e)}function B(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}function k(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function F(e,t){z("number"==typeof e,"cannot write a non-number as a number"),z(e>=0,"specified a negative value for writing an unsigned value"),z(t>=e,"value is larger than maximum value for type"),z(Math.floor(e)===e,"value has a fractional component")}function q(e,t,r){z("number"==typeof e,"cannot write a non-number as a number"),z(t>=e,"value larger than maximum allowed value"),z(e>=r,"value smaller than minimum allowed value"),z(Math.floor(e)===e,"value has a fractional component")}function H(e,t,r){z("number"==typeof e,"cannot write a non-number as a number"),z(t>=e,"value larger than maximum allowed value"),z(e>=r,"value smaller than minimum allowed value")}function z(e,t){if(!e)throw Error(t||"Failed assertion")}var G=e("base64-js"),W=e("ieee754");r.Buffer=n,r.SlowBuffer=n,r.INSPECT_MAX_BYTES=50,n.poolSize=8192;var V=function(){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer||"undefined"==typeof DataView)return!1;try{var e=new Uint8Array(0);return e.foo=function(){return 42},42===e.foo()}catch(t){return!1}}();n.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":return!0;default:return!1}},n.isBuffer=function(e){return e&&e._isBuffer},n.byteLength=function(e,t){switch(t||"utf8"){case"hex":return e.length/2;case"utf8":case"utf-8":return R(e).length;case"ascii":case"binary":return e.length;case"base64":return M(e).length;default:throw Error("Unknown encoding")}},n.concat=function(e,t){if(!N(e))throw Error("Usage: Buffer.concat(list, [totalLength])\nlist should be an Array.");if(0===e.length)return new n(0);if(1===e.length)return e[0];var r;if("number"!=typeof t)for(t=0,r=0;e.length>r;r++)t+=e[r].length;var i=new n(t),o=0;for(r=0;e.length>r;r++){var a=e[r];a.copy(i,o),o+=a.length}return i},n.prototype.write=function(e,t,r,n){if(isFinite(t))isFinite(r)||(n=r,r=void 0);else{var c=n;n=t,t=r,r=c}t=Number(t)||0;var f=this.length-t;switch(r?(r=Number(r),r>f&&(r=f)):r=f,n=((n||"utf8")+"").toLowerCase()){case"hex":return i(this,e,t,r);case"utf8":case"utf-8":return o(this,e,t,r);case"ascii":return a(this,e,t,r);case"binary":return s(this,e,t,r);case"base64":return u(this,e,t,r);default:throw Error("Unknown encoding")}},n.prototype.toString=function(e,t,r){var n=this;if(e=((e||"utf8")+"").toLowerCase(),t=Number(t)||0,r=void 0!==r?Number(r):r=n.length,r===t)return"";switch(e){case"hex":return d(n,t,r);case"utf8":case"utf-8":return f(n,t,r);case"ascii":return l(n,t,r);case"binary":return h(n,t,r);case"base64":return c(n,t,r);default:throw Error("Unknown encoding")}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.copy=function(e,t,r,n){var i=this;if(r||(r=0),n||0===n||(n=this.length),t||(t=0),n!==r&&0!==e.length&&0!==i.length){if(r>n)throw Error("sourceEnd < sourceStart");if(0>t||t>=e.length)throw Error("targetStart out of bounds");if(0>r||r>=i.length)throw Error("sourceStart out of bounds");if(0>n||n>i.length)throw Error("sourceEnd out of bounds");n>this.length&&(n=this.length),n-r>e.length-t&&(n=e.length-t+r);for(var o=0;n-r>o;o++)e[o+t]=this[o+r]}},n.prototype.slice=function(e,t){var r=this.length;if(e=C(e,r,0),t=C(t,r,r),V)return x(this.subarray(e,t));for(var i=t-e,o=new n(i,void 0,!0),a=0;i>a;a++)o[a]=this[a+e];return o},n.prototype.readUInt8=function(e,t){var r=this;return t||(z(void 0!==e&&null!==e,"missing offset"),z(r.length>e,"Trying to read beyond buffer length")),e>=r.length?void 0:r[e]},n.prototype.readUInt16LE=function(e,t){return p(this,e,!0,t)},n.prototype.readUInt16BE=function(e,t){return p(this,e,!1,t)},n.prototype.readUInt32LE=function(e,t){return g(this,e,!0,t)},n.prototype.readUInt32BE=function(e,t){return g(this,e,!1,t)},n.prototype.readInt8=function(e,t){var r=this;if(t||(z(void 0!==e&&null!==e,"missing offset"),z(r.length>e,"Trying to read beyond buffer length")),!(e>=r.length)){if(V)return r._dataview.getInt8(e);var n=128&r[e];return n?-1*(255-r[e]+1):r[e]}},n.prototype.readInt16LE=function(e,t){return v(this,e,!0,t)},n.prototype.readInt16BE=function(e,t){return v(this,e,!1,t)},n.prototype.readInt32LE=function(e,t){return m(this,e,!0,t)},n.prototype.readInt32BE=function(e,t){return m(this,e,!1,t)},n.prototype.readFloatLE=function(e,t){return y(this,e,!0,t)},n.prototype.readFloatBE=function(e,t){return y(this,e,!1,t)},n.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},n.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},n.prototype.writeUInt8=function(e,t,r){var n=this;r||(z(void 0!==e&&null!==e,"missing value"),z(void 0!==t&&null!==t,"missing offset"),z(n.length>t,"trying to write beyond buffer length"),F(e,255)),t>=n.length||(n[t]=e)},n.prototype.writeUInt16LE=function(e,t,r){w(this,e,t,!0,r)},n.prototype.writeUInt16BE=function(e,t,r){w(this,e,t,!1,r)},n.prototype.writeUInt32LE=function(e,t,r){S(this,e,t,!0,r)},n.prototype.writeUInt32BE=function(e,t,r){S(this,e,t,!1,r)},n.prototype.writeInt8=function(e,t,r){var n=this;r||(z(void 0!==e&&null!==e,"missing value"),z(void 0!==t&&null!==t,"missing offset"),z(n.length>t,"Trying to write beyond buffer length"),q(e,127,-128)),t>=n.length||(V?n._dataview.setInt8(t,e):e>=0?n.writeUInt8(e,t,r):n.writeUInt8(255+e+1,t,r))},n.prototype.writeInt16LE=function(e,t,r){E(this,e,t,!0,r)},n.prototype.writeInt16BE=function(e,t,r){E(this,e,t,!1,r)},n.prototype.writeInt32LE=function(e,t,r){T(this,e,t,!0,r)},n.prototype.writeInt32BE=function(e,t,r){T(this,e,t,!1,r)},n.prototype.writeFloatLE=function(e,t,r){I(this,e,t,!0,r)},n.prototype.writeFloatBE=function(e,t,r){I(this,e,t,!1,r)},n.prototype.writeDoubleLE=function(e,t,r){A(this,e,t,!0,r)},n.prototype.writeDoubleBE=function(e,t,r){A(this,e,t,!1,r)},n.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),"number"!=typeof e||isNaN(e))throw Error("value is not a number");if(t>r)throw Error("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw Error("start out of bounds");if(0>r||r>this.length)throw Error("end out of bounds");for(var n=t;r>n;n++)this[n]=e}},n.prototype.inspect=function(){for(var e=[],t=this.length,n=0;t>n;n++)if(e[n]=P(this[n]),n===r.INSPECT_MAX_BYTES){e[n+1]="...";break}return"<Buffer "+e.join(" ")+">"};var J=n.prototype},{"base64-js":3,ieee754:4}],"native-buffer-browserify":[function(e,t){t.exports=e("PcZj9L")},{}],3:[function(e,t){function r(e,t){var r=e.length,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=r);r>n;n++)if("string"==typeof e&&e.charAt(n)===t||"string"!=typeof e&&e[n]===t)return n;return-1}(function(){"use strict";function e(e){var t,n,o,a,s,u;if(e.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(s=r(e,"="),s=s>0?e.length-s:0,u=[],o=s>0?e.length-4:e.length,t=0,n=0;o>t;t+=4,n+=3)a=r(i,e.charAt(t))<<18|r(i,e.charAt(t+1))<<12|r(i,e.charAt(t+2))<<6|r(i,e.charAt(t+3)),u.push((16711680&a)>>16),u.push((65280&a)>>8),u.push(255&a);return 2===s?(a=r(i,e.charAt(t))<<2|r(i,e.charAt(t+1))>>4,u.push(255&a)):1===s&&(a=r(i,e.charAt(t))<<10|r(i,e.charAt(t+1))<<4|r(i,e.charAt(t+2))>>2,u.push(255&a>>8),u.push(255&a)),u}function n(e){function t(e){return i.charAt(63&e>>18)+i.charAt(63&e>>12)+i.charAt(63&e>>6)+i.charAt(63&e)}var r,n,o,a=e.length%3,s="";for(r=0,o=e.length-a;o>r;r+=3)n=(e[r]<<16)+(e[r+1]<<8)+e[r+2],s+=t(n);switch(a){case 1:n=e[e.length-1],s+=i.charAt(n>>2),s+=i.charAt(63&n<<4),s+="==";break;case 2:n=(e[e.length-2]<<8)+e[e.length-1],s+=i.charAt(n>>10),s+=i.charAt(63&n>>4),s+=i.charAt(63&n<<2),s+="="}return s}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports.toByteArray=e,t.exports.fromByteArray=n})()},{}],4:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?0/0:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),1>t*(u=Math.pow(2,-a))&&(a--,u*=2),t+=a+l>=1?h/u:h*Math.pow(2,1-l),t*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*g}},{}]},{},[]),t.exports=e("native-buffer-browserify").Buffer},{}],10:[function(e,t){var r=t.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var r=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(e){r.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw Error("process.chdir is not supported")}},{}],11:[function(e,t,r){function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);var i=typeof e;if("base64"===t&&"string"===i)for(e=_(e);0!==e.length%4;)e+="=";var o;if("number"===i)o=C(e);else if("string"===i)o=n.byteLength(e,t);else{if("object"!==i)throw Error("First argument needs to be a number, array or string.");o=C(e.length)}var a;n._useTypedArrays?a=O(new Uint8Array(o)):(a=this,a.length=o,a._isBuffer=!0);var s;if(n._useTypedArrays&&"function"==typeof Uint8Array&&e instanceof Uint8Array)a._set(e);else if(N(e))for(s=0;o>s;s++)a[s]=n.isBuffer(e)?e.readUInt8(s):e[s];else if("string"===i)a.write(e,0,t);else if("number"===i&&!n._useTypedArrays&&!r)for(s=0;o>s;s++)a[s]=0;return a}function i(e,t,r,i){r=Number(r)||0;var o=e.length-r;i?(i=Number(i),i>o&&(i=o)):i=o;var a=t.length;q(0===a%2,"Invalid hex string"),i>a/2&&(i=a/2);for(var s=0;i>s;s++){var u=parseInt(t.substr(2*s,2),16);q(!isNaN(u),"Invalid hex string"),e[r+s]=u}return n._charsWritten=2*s,s}function o(e,t,r,i){return n._charsWritten=D(P(t),e,r,i)}function a(e,t,r,i){return n._charsWritten=D(j(t),e,r,i)}function s(e,t,r,n){return a(e,t,r,n)}function u(e,t,r,i){return n._charsWritten=D(R(t),e,r,i)}function c(e,t,r){return 0===t&&r===e.length?H.fromByteArray(e):H.fromByteArray(e.slice(t,r))}function f(e,t,r){var n="",i="";r=Math.min(e.length,r);for(var o=t;r>o;o++)127>=e[o]?(n+=M(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return n+M(i)}function l(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function h(e,t,r){return l(e,t,r)}function d(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",o=t;r>o;o++)i+=U(e[o]);return i}function p(e,t,r,n){n||(q("boolean"==typeof r,"missing or invalid endian"),q(void 0!==t&&null!==t,"missing offset"),q(e.length>t+1,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o;return r?(o=e[t],i>t+1&&(o|=e[t+1]<<8)):(o=e[t]<<8,i>t+1&&(o|=e[t+1])),o}}function g(e,t,r,n){n||(q("boolean"==typeof r,"missing or invalid endian"),q(void 0!==t&&null!==t,"missing offset"),q(e.length>t+3,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o;return r?(i>t+2&&(o=e[t+2]<<16),i>t+1&&(o|=e[t+1]<<8),o|=e[t],i>t+3&&(o+=e[t+3]<<24>>>0)):(i>t+1&&(o=e[t+1]<<16),i>t+2&&(o|=e[t+2]<<8),i>t+3&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}}function v(e,t,r,n){n||(q("boolean"==typeof r,"missing or invalid endian"),q(void 0!==t&&null!==t,"missing offset"),q(e.length>t+1,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o=p(e,t,r,!0),a=32768&o;return a?-1*(65535-o+1):o}}function m(e,t,r,n){n||(q("boolean"==typeof r,"missing or invalid endian"),q(void 0!==t&&null!==t,"missing offset"),q(e.length>t+3,"Trying to read beyond buffer length"));var i=e.length;if(!(t>=i)){var o=g(e,t,r,!0),a=2147483648&o;return a?-1*(4294967295-o+1):o}}function y(e,t,r,n){return n||(q("boolean"==typeof r,"missing or invalid endian"),q(e.length>t+3,"Trying to read beyond buffer length")),z.read(e,t,r,23,4)
}function b(e,t,r,n){return n||(q("boolean"==typeof r,"missing or invalid endian"),q(e.length>t+7,"Trying to read beyond buffer length")),z.read(e,t,r,52,8)}function w(e,t,r,n,i){i||(q(void 0!==t&&null!==t,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(e.length>r+1,"trying to write beyond buffer length"),B(t,65535));var o=e.length;if(!(r>=o))for(var a=0,s=Math.min(o-r,2);s>a;a++)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function S(e,t,r,n,i){i||(q(void 0!==t&&null!==t,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(e.length>r+3,"trying to write beyond buffer length"),B(t,4294967295));var o=e.length;if(!(r>=o))for(var a=0,s=Math.min(o-r,4);s>a;a++)e[r+a]=255&t>>>8*(n?a:3-a)}function E(e,t,r,n,i){i||(q(void 0!==t&&null!==t,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(e.length>r+1,"Trying to write beyond buffer length"),k(t,32767,-32768));var o=e.length;r>=o||(t>=0?w(e,t,r,n,i):w(e,65535+t+1,r,n,i))}function T(e,t,r,n,i){i||(q(void 0!==t&&null!==t,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(e.length>r+3,"Trying to write beyond buffer length"),k(t,2147483647,-2147483648));var o=e.length;r>=o||(t>=0?S(e,t,r,n,i):S(e,4294967295+t+1,r,n,i))}function I(e,t,r,n,i){i||(q(void 0!==t&&null!==t,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(e.length>r+3,"Trying to write beyond buffer length"),F(t,3.4028234663852886e38,-3.4028234663852886e38));var o=e.length;r>=o||z.write(e,t,r,n,23,4)}function A(e,t,r,n,i){i||(q(void 0!==t&&null!==t,"missing value"),q("boolean"==typeof n,"missing or invalid endian"),q(void 0!==r&&null!==r,"missing offset"),q(e.length>r+7,"Trying to write beyond buffer length"),F(t,1.7976931348623157e308,-1.7976931348623157e308));var o=e.length;r>=o||z.write(e,t,r,n,52,8)}function _(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function O(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=G.get,e.set=G.set,e.write=G.write,e.toString=G.toString,e.toLocaleString=G.toString,e.toJSON=G.toJSON,e.copy=G.copy,e.slice=G.slice,e.readUInt8=G.readUInt8,e.readUInt16LE=G.readUInt16LE,e.readUInt16BE=G.readUInt16BE,e.readUInt32LE=G.readUInt32LE,e.readUInt32BE=G.readUInt32BE,e.readInt8=G.readInt8,e.readInt16LE=G.readInt16LE,e.readInt16BE=G.readInt16BE,e.readInt32LE=G.readInt32LE,e.readInt32BE=G.readInt32BE,e.readFloatLE=G.readFloatLE,e.readFloatBE=G.readFloatBE,e.readDoubleLE=G.readDoubleLE,e.readDoubleBE=G.readDoubleBE,e.writeUInt8=G.writeUInt8,e.writeUInt16LE=G.writeUInt16LE,e.writeUInt16BE=G.writeUInt16BE,e.writeUInt32LE=G.writeUInt32LE,e.writeUInt32BE=G.writeUInt32BE,e.writeInt8=G.writeInt8,e.writeInt16LE=G.writeInt16LE,e.writeInt16BE=G.writeInt16BE,e.writeInt32LE=G.writeInt32LE,e.writeInt32BE=G.writeInt32BE,e.writeFloatLE=G.writeFloatLE,e.writeFloatBE=G.writeFloatBE,e.writeDoubleLE=G.writeDoubleLE,e.writeDoubleBE=G.writeDoubleBE,e.fill=G.fill,e.inspect=G.inspect,e.toArrayBuffer=G.toArrayBuffer,e}function x(e,t,r){return"number"!=typeof e?r:(e=~~e,e>=t?t:e>=0?e:(e+=t,e>=0?e:0))}function C(e){return e=~~Math.ceil(+e),0>e?0:e}function L(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function N(e){return L(e)||n.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function U(e){return 16>e?"0"+e.toString(16):e.toString(16)}function P(e){for(var t=[],r=0;e.length>r;r++){var n=e.charCodeAt(r);if(127>=n)t.push(e.charCodeAt(r));else{var i=r;n>=55296&&57343>=n&&r++;for(var o=encodeURIComponent(e.slice(i,r+1)).substr(1).split("%"),a=0;o.length>a;a++)t.push(parseInt(o[a],16))}}return t}function j(e){for(var t=[],r=0;e.length>r;r++)t.push(255&e.charCodeAt(r));return t}function R(e){return H.toByteArray(e)}function D(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}function M(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function B(e,t){q("number"==typeof e,"cannot write a non-number as a number"),q(e>=0,"specified a negative value for writing an unsigned value"),q(t>=e,"value is larger than maximum value for type"),q(Math.floor(e)===e,"value has a fractional component")}function k(e,t,r){q("number"==typeof e,"cannot write a non-number as a number"),q(t>=e,"value larger than maximum allowed value"),q(e>=r,"value smaller than minimum allowed value"),q(Math.floor(e)===e,"value has a fractional component")}function F(e,t,r){q("number"==typeof e,"cannot write a non-number as a number"),q(t>=e,"value larger than maximum allowed value"),q(e>=r,"value smaller than minimum allowed value")}function q(e,t){if(!e)throw Error(t||"Failed assertion")}var H=e("base64-js"),z=e("ieee754");r.Buffer=n,r.SlowBuffer=n,r.INSPECT_MAX_BYTES=50,n.poolSize=8192,n._useTypedArrays=function(){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer)return!1;try{var e=new Uint8Array(0);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray}catch(t){return!1}}(),n.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":return!0;default:return!1}},n.isBuffer=function(e){return null!=e&&e._isBuffer||!1},n.byteLength=function(e,t){switch(t||"utf8"){case"hex":return e.length/2;case"utf8":case"utf-8":return P(e).length;case"ascii":case"binary":return e.length;case"base64":return R(e).length;default:throw Error("Unknown encoding")}},n.concat=function(e,t){if(q(L(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new n(0);if(1===e.length)return e[0];var r;if("number"!=typeof t)for(t=0,r=0;e.length>r;r++)t+=e[r].length;var i=new n(t),o=0;for(r=0;e.length>r;r++){var a=e[r];a.copy(i,o),o+=a.length}return i},n.prototype.write=function(e,t,r,n){if(isFinite(t))isFinite(r)||(n=r,r=void 0);else{var c=n;n=t,t=r,r=c}t=Number(t)||0;var f=this.length-t;switch(r?(r=Number(r),r>f&&(r=f)):r=f,n=((n||"utf8")+"").toLowerCase()){case"hex":return i(this,e,t,r);case"utf8":case"utf-8":return o(this,e,t,r);case"ascii":return a(this,e,t,r);case"binary":return s(this,e,t,r);case"base64":return u(this,e,t,r);default:throw Error("Unknown encoding")}},n.prototype.toString=function(e,t,r){var n=this;if(e=((e||"utf8")+"").toLowerCase(),t=Number(t)||0,r=void 0!==r?Number(r):r=n.length,r===t)return"";switch(e){case"hex":return d(n,t,r);case"utf8":case"utf-8":return f(n,t,r);case"ascii":return l(n,t,r);case"binary":return h(n,t,r);case"base64":return c(n,t,r);default:throw Error("Unknown encoding")}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.copy=function(e,t,r,n){var i=this;if(r||(r=0),n||0===n||(n=this.length),t||(t=0),n!==r&&0!==e.length&&0!==i.length){q(n>=r,"sourceEnd < sourceStart"),q(t>=0&&e.length>t,"targetStart out of bounds"),q(r>=0&&i.length>r,"sourceStart out of bounds"),q(n>=0&&i.length>=n,"sourceEnd out of bounds"),n>this.length&&(n=this.length),n-r>e.length-t&&(n=e.length-t+r);for(var o=0;n-r>o;o++)e[o+t]=this[o+r]}},n.prototype.slice=function(e,t){var r=this.length;if(e=x(e,r,0),t=x(t,r,r),n._useTypedArrays)return O(this.subarray(e,t));for(var i=t-e,o=new n(i,void 0,!0),a=0;i>a;a++)o[a]=this[a+e];return o},n.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},n.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},n.prototype.readUInt8=function(e,t){var r=this;return t||(q(void 0!==e&&null!==e,"missing offset"),q(r.length>e,"Trying to read beyond buffer length")),e>=r.length?void 0:r[e]},n.prototype.readUInt16LE=function(e,t){return p(this,e,!0,t)},n.prototype.readUInt16BE=function(e,t){return p(this,e,!1,t)},n.prototype.readUInt32LE=function(e,t){return g(this,e,!0,t)},n.prototype.readUInt32BE=function(e,t){return g(this,e,!1,t)},n.prototype.readInt8=function(e,t){var r=this;if(t||(q(void 0!==e&&null!==e,"missing offset"),q(r.length>e,"Trying to read beyond buffer length")),!(e>=r.length)){var n=128&r[e];return n?-1*(255-r[e]+1):r[e]}},n.prototype.readInt16LE=function(e,t){return v(this,e,!0,t)},n.prototype.readInt16BE=function(e,t){return v(this,e,!1,t)},n.prototype.readInt32LE=function(e,t){return m(this,e,!0,t)},n.prototype.readInt32BE=function(e,t){return m(this,e,!1,t)},n.prototype.readFloatLE=function(e,t){return y(this,e,!0,t)},n.prototype.readFloatBE=function(e,t){return y(this,e,!1,t)},n.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},n.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},n.prototype.writeUInt8=function(e,t,r){var n=this;r||(q(void 0!==e&&null!==e,"missing value"),q(void 0!==t&&null!==t,"missing offset"),q(n.length>t,"trying to write beyond buffer length"),B(e,255)),t>=n.length||(n[t]=e)},n.prototype.writeUInt16LE=function(e,t,r){w(this,e,t,!0,r)},n.prototype.writeUInt16BE=function(e,t,r){w(this,e,t,!1,r)},n.prototype.writeUInt32LE=function(e,t,r){S(this,e,t,!0,r)},n.prototype.writeUInt32BE=function(e,t,r){S(this,e,t,!1,r)},n.prototype.writeInt8=function(e,t,r){var n=this;r||(q(void 0!==e&&null!==e,"missing value"),q(void 0!==t&&null!==t,"missing offset"),q(n.length>t,"Trying to write beyond buffer length"),k(e,127,-128)),t>=n.length||(e>=0?n.writeUInt8(e,t,r):n.writeUInt8(255+e+1,t,r))},n.prototype.writeInt16LE=function(e,t,r){E(this,e,t,!0,r)},n.prototype.writeInt16BE=function(e,t,r){E(this,e,t,!1,r)},n.prototype.writeInt32LE=function(e,t,r){T(this,e,t,!0,r)},n.prototype.writeInt32BE=function(e,t,r){T(this,e,t,!1,r)},n.prototype.writeFloatLE=function(e,t,r){I(this,e,t,!0,r)},n.prototype.writeFloatBE=function(e,t,r){I(this,e,t,!1,r)},n.prototype.writeDoubleLE=function(e,t,r){A(this,e,t,!0,r)},n.prototype.writeDoubleBE=function(e,t,r){A(this,e,t,!1,r)},n.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),q("number"==typeof e&&!isNaN(e),"value is not a number"),q(r>=t,"end < start"),r!==t&&0!==this.length){q(t>=0&&this.length>t,"start out of bounds"),q(r>=0&&this.length>=r,"end out of bounds");for(var n=t;r>n;n++)this[n]=e}},n.prototype.inspect=function(){for(var e=[],t=this.length,n=0;t>n;n++)if(e[n]=U(this[n]),n===r.INSPECT_MAX_BYTES){e[n+1]="...";break}return"<Buffer "+e.join(" ")+">"},n.prototype.toArrayBuffer=function(){if("function"==typeof Uint8Array){if(n._useTypedArrays)return new n(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;r>t;t+=1)e[t]=this[t];return e.buffer}throw Error("Buffer.toArrayBuffer not supported in this browser")};var G=n.prototype},{"base64-js":12,ieee754:13}],12:[function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";(function(){"use strict";function e(e){var t=e.charCodeAt(0);return t===a?62:t===s?63:u>t?-1:u+10>t?t-u+26+26:f+26>t?t-f:c+26>t?t-c+26:void 0}function n(t){function r(e){c[l++]=e}var n,i,a,s,u,c;if(t.length%4>0)throw Error("Invalid string. Length must be a multiple of 4");var f=t.length;u="="===t.charAt(f-2)?2:"="===t.charAt(f-1)?1:0,c=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var l=0;for(n=0,i=0;a>n;n+=4,i+=3)s=e(t.charAt(n))<<18|e(t.charAt(n+1))<<12|e(t.charAt(n+2))<<6|e(t.charAt(n+3)),r((16711680&s)>>16),r((65280&s)>>8),r(255&s);return 2===u?(s=e(t.charAt(n))<<2|e(t.charAt(n+1))>>4,r(255&s)):1===u&&(s=e(t.charAt(n))<<10|e(t.charAt(n+1))<<4|e(t.charAt(n+2))>>2,r(255&s>>8),r(255&s)),c}function i(e){function t(e){return r.charAt(e)}function n(e){return t(63&e>>18)+t(63&e>>12)+t(63&e>>6)+t(63&e)}var i,o,a,s=e.length%3,u="";for(i=0,a=e.length-s;a>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=n(o);switch(s){case 1:o=e[e.length-1],u+=t(o>>2),u+=t(63&o<<4),u+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],u+=t(o>>10),u+=t(63&o>>4),u+=t(63&o<<2),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array;"0".charCodeAt(0);var a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0);t.exports.toByteArray=n,t.exports.fromByteArray=i})()},{}],13:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?0/0:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),1>t*(u=Math.pow(2,-a))&&(a--,u*=2),t+=a+l>=1?h/u:h*Math.pow(2,1-l),t*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*g}},{}],14:[function(t,r,n){var i="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};(function(t){function o(e){throw RangeError(j[e])}function a(e,t){for(var r=e.length;r--;)e[r]=t(e[r]);return e}function s(e,t){return a(e.split(P),t).join(".")}function u(e){for(var t,r,n=[],i=0,o=e.length;o>i;)t=e.charCodeAt(i++),t>=55296&&56319>=t&&o>i?(r=e.charCodeAt(i++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--)):n.push(t);return n}function c(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=M(55296|1023&e>>>10),e=56320|1023&e),t+=M(e)}).join("")}function f(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:T}function l(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,r){var n=0;for(e=r?D(e/O):e>>1,e+=D(e/t);e>R*A>>1;n+=T)e=D(e/R);return D(n+(R+1)*e/(e+_))}function d(e){var t,r,n,i,a,s,u,l,d,p,g=[],v=e.length,m=0,y=C,b=x;for(r=e.lastIndexOf(L),0>r&&(r=0),n=0;r>n;++n)e.charCodeAt(n)>=128&&o("not-basic"),g.push(e.charCodeAt(n));for(i=r>0?r+1:0;v>i;){for(a=m,s=1,u=T;i>=v&&o("invalid-input"),l=f(e.charCodeAt(i++)),(l>=T||l>D((E-m)/s))&&o("overflow"),m+=l*s,d=b>=u?I:u>=b+A?A:u-b,!(d>l);u+=T)p=T-d,s>D(E/p)&&o("overflow"),s*=p;t=g.length+1,b=h(m-a,t,0==a),D(m/t)>E-y&&o("overflow"),y+=D(m/t),m%=t,g.splice(m++,0,y)}return c(g)}function p(e){var t,r,n,i,a,s,c,f,d,p,g,v,m,y,b,w=[];for(e=u(e),v=e.length,t=C,r=0,a=x,s=0;v>s;++s)g=e[s],128>g&&w.push(M(g));for(n=i=w.length,i&&w.push(L);v>n;){for(c=E,s=0;v>s;++s)g=e[s],g>=t&&c>g&&(c=g);for(m=n+1,c-t>D((E-r)/m)&&o("overflow"),r+=(c-t)*m,t=c,s=0;v>s;++s)if(g=e[s],t>g&&++r>E&&o("overflow"),g==t){for(f=r,d=T;p=a>=d?I:d>=a+A?A:d-a,!(p>f);d+=T)b=f-p,y=T-p,w.push(M(l(p+b%y,0))),f=D(b/y);w.push(M(l(f,0))),a=h(r,m,n==i),r=0,++n}++r,++t}return w.join("")}function g(e){return s(e,function(e){return N.test(e)?d(e.slice(4).toLowerCase()):e})}function v(e){return s(e,function(e){return U.test(e)?"xn--"+p(e):e})}var m="object"==typeof n&&n,y="object"==typeof r&&r&&r.exports==m&&r,b="object"==typeof i&&i;(b.global===b||b.window===b)&&(t=b);var w,S,E=2147483647,T=36,I=1,A=26,_=38,O=700,x=72,C=128,L="-",N=/^xn--/,U=/[^ -~]/,P=/\x2E|\u3002|\uFF0E|\uFF61/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=T-I,D=Math.floor,M=String.fromCharCode;if(w={version:"1.2.3",ucs2:{decode:u,encode:c},decode:d,encode:p,toASCII:v,toUnicode:g},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return w});else if(m&&!m.nodeType)if(y)y.exports=w;else for(S in w)w.hasOwnProperty(S)&&(m[S]=w[S]);else t.punycode=w})(this)},{}],15:[function(e,t){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,o){t=t||"&",i=i||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var f=0;c>f;++f){var l,h,d,p,g=e[f].replace(s,"%20"),v=g.indexOf(i);v>=0?(l=g.substr(0,v),h=g.substr(v+1)):(l=g,h=""),d=decodeURIComponent(l),p=decodeURIComponent(h),r(a,d)?n(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],16:[function(e,t){"use strict";function r(e,t){if(e.map)return e.map(t);for(var r=[],n=0;e.length>n;n++)r.push(t(e[n],n));return r}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,a,s){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?r(o(e),function(r){var o=encodeURIComponent(n(r))+a;return i(e[r])?e[r].map(function(e){return o+encodeURIComponent(n(e))}).join(t):o+encodeURIComponent(n(e[r]))}).join(t):s?encodeURIComponent(n(s))+a+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],17:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":15,"./encode":16}],18:[function(e,t){function r(e){return this instanceof r?(a.call(this,e),s.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",n),void 0):new r(e)}function n(){if(!this.allowHalfOpen&&!this._writableState.ended){var e=this;o(function(){e.end()})}}t.exports=r;var i=e("inherits"),o=e("process/browser.js").nextTick,a=e("./readable.js"),s=e("./writable.js");i(r,a),r.prototype.write=s.prototype.write,r.prototype.end=s.prototype.end,r.prototype._write=s.prototype._write},{"./readable.js":22,"./writable.js":24,inherits:8,"process/browser.js":20}],19:[function(e,t){function r(){n.call(this)}t.exports=r;var n=e("events").EventEmitter,i=e("inherits");i(r,n),r.Readable=e("./readable.js"),r.Writable=e("./writable.js"),r.Duplex=e("./duplex.js"),r.Transform=e("./transform.js"),r.PassThrough=e("./passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function r(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function i(){c.readable&&c.resume&&c.resume()}function o(){f||(f=!0,e.end())}function a(){f||(f=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){c.removeListener("data",r),e.removeListener("drain",i),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),e.removeListener("close",u)}var c=this;c.on("data",r),e.on("drain",i),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",a));var f=!1;return c.on("error",s),e.on("error",s),c.on("end",u),c.on("close",u),e.on("close",u),e.emit("pipe",c),e}},{"./duplex.js":18,"./passthrough.js":21,"./readable.js":22,"./transform.js":23,"./writable.js":24,events:2,inherits:8}],20:[function(e,t){t.exports=e(10)},{}],21:[function(e,t){function r(e){return this instanceof r?(n.call(this,e),void 0):new r(e)}t.exports=r;var n=e("./transform.js"),i=e("inherits");i(r,n),r.prototype._transform=function(e,t,r){r(null,e)}},{"./transform.js":23,inherits:8}],22:[function(e,t){function r(t){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(T||(T=e("string_decoder").StringDecoder),this.decoder=new T(t.encoding),this.encoding=t.encoding)}function n(e){return this instanceof n?(this._readableState=new r(e,this),this.readable=!0,A.call(this),void 0):new n(e)}function i(e,t,r,n,i){var a=u(t,r);if(a)e.emit("error",a);else if(null===r||void 0===r)t.reading=!1,t.ended||c(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&f(e),h(e,t);else i||(t.reading=!1);return o(t)}function o(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=C)e=C;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function s(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||null===e?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function u(e,t){var r=null;return _.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||r||(r=new TypeError("Invalid non-string/buffer chunk")),r}function c(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?f(e):b(e)}function f(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?O(function(){l(e)}):l(e))}function l(e){e.emit("readable")}function h(e,t){t.readingMore||(t.readingMore=!0,O(function(){d(e,t)}))}function d(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function p(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&g(e)}}function g(e){function t(e){var t=e.write(r);!1===t&&n.awaitDrain++}var r,n=e._readableState;for(n.awaitDrain=0;n.pipesCount&&null!==(r=e.read());)if(1===n.pipesCount?t(n.pipes,0,null):w(n.pipes,t),e.emit("data",r),n.awaitDrain>0)return;return 0===n.pipesCount?(n.flowing=!1,I.listenerCount(e,"data")>0&&m(e),void 0):(n.ranOut=!0,void 0)}function v(){this._readableState.ranOut&&(this._readableState.ranOut=!1,g(this))}function m(e,t){var r=e._readableState;if(r.flowing)throw Error("Cannot switch to old mode now.");var n=t||!1,i=!1;e.readable=!0,e.pipe=A.prototype.pipe,e.on=e.addListener=A.prototype.on,e.on("readable",function(){i=!0;for(var t;!n&&null!==(t=e.read());)e.emit("data",t);null===t&&(i=!1,e._readableState.needReadable=!0)}),e.pause=function(){n=!0,this.emit("pause")},e.resume=function(){n=!1,i?O(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function y(e,t){var r,n=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(a)r=n.shift();else if(!e||e>=i)r=o?n.join(""):_.concat(n,i),n.length=0;else if(n[0].length>e){var s=n[0];r=s.slice(0,e),n[0]=s.slice(e)}else if(e===n[0].length)r=n.shift();else{r=o?"":new _(e);for(var u=0,c=0,f=n.length;f>c&&e>u;c++){var s=n[0],l=Math.min(e-u,s.length);o?r+=s.slice(0,l):s.copy(r,u,0,l),s.length>l?n[0]=s.slice(l):n.shift(),u+=l}}return r}function b(e){var t=e._readableState;if(t.length>0)throw Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,O(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var r=0,n=e.length;n>r;r++)t(e[r],r)}function S(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}var E=e("__browserify_process");t.exports=n,n.ReadableState=r;var T,I=e("events").EventEmitter,A=e("./index.js"),_=e("buffer").Buffer,O=e("process/browser.js").nextTick,x=e("inherits");x(n,A),n.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding,t!==r.encoding&&(e=new _(e,t),t="")),i(this,r,e,t,!1)},n.prototype.unshift=function(e){var t=this._readableState;return i(this,t,e,"",!0)},n.prototype.setEncoding=function(t){T||(T=e("string_decoder").StringDecoder),this._readableState.decoder=new T(t),this._readableState.encoding=t};var C=8388608;n.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f(this),null;if(e=s(e,t),0===e&&t.ended)return 0===t.length&&b(this),null;var n=t.needReadable;t.length-e<=t.highWaterMark&&(n=!0),(t.ended||t.reading)&&(n=!1),n&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=s(r,t));var i;return i=e>0?y(e,t):null,null===i&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&b(this),i},n.prototype._read=function(){this.emit("error",Error("not implemented"))},n.prototype.pipe=function(e,t){function r(e){e===c&&i()}function n(){e.end()}function i(){e.removeListener("close",a),e.removeListener("finish",s),e.removeListener("drain",d),e.removeListener("error",o),e.removeListener("unpipe",r),c.removeListener("end",n),c.removeListener("end",i),(!e._writableState||e._writableState.needDrain)&&d()}function o(t){u(),0===m&&0===I.listenerCount(e,"error")&&e.emit("error",t)}function a(){e.removeListener("finish",s),u()}function s(){e.removeListener("close",a),u()}function u(){c.unpipe(e)}var c=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1;var l=(!t||t.end!==!1)&&e!==E.stdout&&e!==E.stderr,h=l?n:i;f.endEmitted?O(h):c.once("end",h),e.on("unpipe",r);var d=p(c);e.on("drain",d);var m=I.listenerCount(e,"error");return e.once("error",o),e.once("close",a),e.once("finish",s),e.emit("pipe",c),f.flowing||(this.on("readable",v),f.flowing=!0,O(function(){g(c)})),e},n.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",v),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",v),t.flowing=!1;for(var i=0;n>i;i++)r[i].emit("unpipe",this);return this}var i=S(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},n.prototype.on=function(e,t){var r=A.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||m(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&f(this,n):this.read(0))}return r},n.prototype.addListener=n.prototype.on,n.prototype.resume=function(){m(this),this.read(0),this.emit("resume")},n.prototype.pause=function(){m(this,!0),this.emit("pause")},n.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){if(t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=n.push(i);o||(r=!0,e.pause())}});for(var i in e)"function"==typeof e[i]&&this[i]===void 0&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return w(o,function(t){e.on(t,function(e){return n.emit.apply(n,t,e)})}),n._read=function(){r&&(r=!1,e.resume())},n},n._fromList=y},{"./index.js":19,__browserify_process:10,buffer:11,events:2,inherits:8,"process/browser.js":20,string_decoder:25}],23:[function(e,t){function r(e,t){this.afterTransform=function(e,r){return n(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function n(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&e.push(r),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState=new r(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState;e._readableState;var n=e._transformState;if(r.length)throw Error("calling transform done when ws.length != 0");if(n.transforming)throw Error("calling transform done when still transforming");return e.push(null)}t.exports=i;var a=e("./duplex.js"),s=e("inherits");s(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(){throw Error("not implemented")},i.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var e=this._transformState;e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./duplex.js":18,inherits:8}],24:[function(e,t){function r(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function n(e,t){e=e||{};var r=e.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(t,e)},this.writecb=null,this.writelen=0,this.buffer=[]}function i(e){return this instanceof i||this instanceof E.Duplex?(this._writableState=new n(e,this),this.writable=!0,E.call(this),void 0):new i(e)}function o(e,t,r){var n=Error("write after end");e.emit("error",n),T(function(){r(n)})}function a(e,t,r,n){var i=!0;if(!I.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!t.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),T(function(){n(o)}),i=!1}return i}function s(e,t,r){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new I(t,r)),t}function u(e,t,n,i,o){n=s(t,n,i);var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;return t.needDrain=!u,t.writing?t.buffer.push(new r(n,i,o)):c(e,t,a,n,i,o),u}function c(e,t,r,n,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,e._write(n,i,t.onwrite),t.sync=!1}function f(e,t,r,n,i){r?T(function(){i(n)}):i(n),e.emit("error",n)}function l(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(l(r),t)f(e,r,n,t,i);else{var o=v(e,r);o||r.bufferProcessing||!r.buffer.length||g(e,r),n?T(function(){d(e,r,o,i)}):d(e,r,o,i)}}function d(e,t,r,n){r||p(e,t),n(),r&&m(e,t)}function p(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){t.bufferProcessing=!0;for(var r=0;t.buffer.length>r;r++){var n=t.buffer[r],i=n.chunk,o=n.encoding,a=n.callback,s=t.objectMode?1:i.length;if(c(e,t,s,i,o,a),t.writing){r++;break}}t.bufferProcessing=!1,t.buffer.length>r?t.buffer=t.buffer.slice(r):t.buffer.length=0}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function m(e,t){var r=v(e,t);return r&&(t.finished=!0,e.emit("finish")),r}function y(e,t,r){t.ending=!0,m(e,t),r&&(t.finished?T(r):e.once("finish",r)),t.ended=!0}t.exports=i,i.WritableState=n;var b="undefined"!=typeof Uint8Array?function(e){return e instanceof Uint8Array
}:function(e){return e&&e.constructor&&"Uint8Array"===e.constructor.name},w="undefined"!=typeof ArrayBuffer?function(e){return e instanceof ArrayBuffer}:function(e){return e&&e.constructor&&"ArrayBuffer"===e.constructor.name},S=e("inherits"),E=e("./index.js"),T=e("process/browser.js").nextTick,I=e("buffer").Buffer;S(i,E),i.prototype.pipe=function(){this.emit("error",Error("Cannot pipe. Not readable."))},i.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),b(e)&&(e=new I(e)),w(e)&&"undefined"!=typeof Uint8Array&&(e=new I(new Uint8Array(e))),I.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=function(){}),n.ended?o(this,n,r):a(this,n,e,r)&&(i=u(this,n,e,t,r)),i},i.prototype._write=function(e,t,r){r(Error("not implemented"))},i.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),e!==void 0&&null!==e&&this.write(e,t),n.ending||n.finished||y(this,n,r)}},{"./index.js":19,buffer:11,inherits:8,"process/browser.js":20}],25:[function(e,t,r){function n(e){if(e&&!s.isEncoding(e))throw Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){var t=this.charReceived=e.length%2;return this.charLength=t?2:0,t}function a(e){var t=this.charReceived=e.length%3;return this.charLength=t?3:0,t}var s=e("buffer").Buffer,u=r.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return this.write=i,void 0}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="",r=0;this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,r,n),this.charReceived+=n-r,r=n,this.charReceived<this.charLength)return"";t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(!(i>=55296&&56319>=i)){if(this.charReceived=this.charLength=0,n==e.length)return t;e=e.slice(n,e.length);break}this.charLength+=this.surrogateSize,t=""}var o=this.detectIncompleteChar(e),a=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-o,a),this.charReceived=o,a-=o),t+=e.toString(this.encoding,0,a);var a=t.length-1,i=t.charCodeAt(a);if(i>=55296&&56319>=i){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),this.charBuffer.write(t.charAt(t.length-1),this.encoding),t.substring(0,a)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&6==r>>5){this.charLength=2;break}if(2>=t&&14==r>>4){this.charLength=3;break}if(3>=t&&30==r>>3){this.charLength=4;break}}return t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},{buffer:11}],26:[function(e,t,r){(function(){"use strict";function t(e,t,r){if(e&&"object"==typeof e&&e.href)return e;if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i={},o=e;o=o.trim();var c=u.exec(o);if(c){c=c[0];var f=c.toLowerCase();i.protocol=f,o=o.substr(c.length)}if(r||c||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===o.substr(0,2);!l||c&&b[c]||(o=o.substr(2),i.slashes=!0)}if(!b[c]&&(l||c&&!w[c])){var E=o.indexOf("@");if(-1!==E){for(var T=o.slice(0,E),I=!0,A=0,_=p.length;_>A;A++)if(-1!==T.indexOf(p[A])){I=!1;break}I&&(i.auth=decodeURIComponent(T),o=o.substr(E+1))}for(var O=-1,A=0,_=d.length;_>A;A++){var x=o.indexOf(d[A]);-1!==x&&(0>O||O>x)&&(O=x)}-1!==O?(i.host=o.substr(0,O),o=o.substr(O)):(i.host=o,o="");for(var C=a(i.host),L=Object.keys(C),A=0,_=L.length;_>A;A++){var N=L[A];i[N]=C[N]}i.hostname=i.hostname||"";var U="["===i.hostname[0]&&"]"===i.hostname[i.hostname.length-1];if(i.hostname.length>g)i.hostname="";else if(!U)for(var P=i.hostname.split(/\./),A=0,_=P.length;_>A;A++){var j=P[A];if(j&&!j.match(v)){for(var R="",D=0,M=j.length;M>D;D++)R+=j.charCodeAt(D)>127?"x":j[D];if(!R.match(v)){var B=P.slice(0,A),k=P.slice(A+1),F=j.match(m);F&&(B.push(F[1]),k.unshift(F[2])),k.length&&(o="/"+k.join(".")+o),i.hostname=B.join(".");break}}}if(i.hostname=i.hostname.toLowerCase(),!U){for(var q=i.hostname.split("."),H=[],A=0;q.length>A;++A){var z=q[A];H.push(z.match(/[^A-Za-z0-9_-]/)?"xn--"+s.encode(z):z)}i.hostname=H.join(".")}i.host=(i.hostname||"")+(i.port?":"+i.port:""),i.href+=i.host,U&&(i.hostname=i.hostname.substr(1,i.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!y[f])for(var A=0,_=h.length;_>A;A++){var G=h[A],W=encodeURIComponent(G);W===G&&(W=escape(G)),o=o.split(G).join(W)}var V=o.indexOf("#");-1!==V&&(i.hash=o.substr(V),o=o.slice(0,V));var J=o.indexOf("?");return-1!==J?(i.search=o.substr(J),i.query=o.substr(J+1),t&&(i.query=S.parse(i.query)),o=o.slice(0,J)):t&&(i.search="",i.query={}),o&&(i.pathname=o),w[c]&&i.hostname&&!i.pathname&&(i.pathname="/"),(i.pathname||i.search)&&(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=n(i),i}function n(e){"string"==typeof e&&(e=t(e));var r=e.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var n=e.protocol||"",i=e.pathname||"",o=e.hash||"",a=!1,s="";void 0!==e.host?a=r+e.host:void 0!==e.hostname&&(a=r+(-1===e.hostname.indexOf(":")?e.hostname:"["+e.hostname+"]"),e.port&&(a+=":"+e.port)),e.query&&"object"==typeof e.query&&Object.keys(e.query).length&&(s=S.stringify(e.query));var u=e.search||s&&"?"+s||"";return n&&":"!==n.substr(-1)&&(n+=":"),e.slashes||(!n||w[n])&&a!==!1?(a="//"+(a||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):a||(a=""),o&&"#"!==o.charAt(0)&&(o="#"+o),u&&"?"!==u.charAt(0)&&(u="?"+u),n+a+i+u+o}function i(e,t){return n(o(e,t))}function o(e,r){if(!e)return r;if(e=t(n(e),!1,!0),r=t(n(r),!1,!0),e.hash=r.hash,""===r.href)return e.href=n(e),e;if(r.slashes&&!r.protocol)return r.protocol=e.protocol,w[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=n(r),r;if(r.protocol&&r.protocol!==e.protocol){if(!w[r.protocol])return r.href=n(r),r;if(e.protocol=r.protocol,!r.host&&!b[r.protocol]){for(var i=(r.pathname||"").split("/");i.length&&!(r.host=i.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),""!==i[0]&&i.unshift(""),2>i.length&&i.unshift(""),r.pathname=i.join("/")}return e.pathname=r.pathname,e.search=r.search,e.query=r.query,e.host=r.host||"",e.auth=r.auth,e.hostname=r.hostname||r.host,e.port=r.port,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.slashes=e.slashes||r.slashes,e.href=n(e),e}var o=e.pathname&&"/"===e.pathname.charAt(0),a=void 0!==r.host||r.pathname&&"/"===r.pathname.charAt(0),s=a||o||e.host&&r.pathname,u=s,c=e.pathname&&e.pathname.split("/")||[],i=r.pathname&&r.pathname.split("/")||[],f=e.protocol&&!w[e.protocol];if(f&&(delete e.hostname,delete e.port,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),delete e.host,r.protocol&&(delete r.hostname,delete r.port,r.host&&(""===i[0]?i[0]=r.host:i.unshift(r.host)),delete r.host),s=s&&(""===i[0]||""===c[0])),a)e.host=r.host||""===r.host?r.host:e.host,e.hostname=r.hostname||""===r.hostname?r.hostname:e.hostname,e.search=r.search,e.query=r.query,c=i;else if(i.length)c||(c=[]),c.pop(),c=c.concat(i),e.search=r.search,e.query=r.query;else if("search"in r){if(f){e.hostname=e.host=c.shift();var l=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;l&&(e.auth=l.shift(),e.host=e.hostname=l.shift())}return e.search=r.search,e.query=r.query,(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=n(e),e}if(!c.length)return delete e.pathname,e.search?delete e.path:e.path="/"+e.search,e.href=n(e),e;for(var h=c.slice(-1)[0],d=(e.host||r.host)&&("."===h||".."===h)||""===h,p=0,g=c.length;g>=0;g--)h=c[g],"."==h?c.splice(g,1):".."===h?(c.splice(g,1),p++):p&&(c.splice(g,1),p--);if(!s&&!u)for(;p--;p)c.unshift("..");!s||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift(""),d&&"/"!==c.join("/").substr(-1)&&c.push("");var v=""===c[0]||c[0]&&"/"===c[0].charAt(0);if(f){e.hostname=e.host=v?"":c.length?c.shift():"";var l=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;l&&(e.auth=l.shift(),e.host=e.hostname=l.shift())}return s=s||e.host&&c.length,s&&!v&&c.unshift(""),e.pathname=c.join("/"),(void 0!==e.pathname||void 0!==e.search)&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=r.auth||e.auth,e.slashes=e.slashes||r.slashes,e.href=n(e),e}function a(e){var t={},r=c.exec(e);return r&&(r=r[0],":"!==r&&(t.port=r.substr(1)),e=e.substr(0,e.length-r.length)),e&&(t.hostname=e),t}var s=e("punycode");r.parse=t,r.resolve=i,r.resolveObject=o,r.format=n;var u=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,f=["<",">",'"',"`"," ","\r","\n","	"],l=["{","}","|","\\","^","~","`"].concat(f),h=["'"].concat(f),d=["%","/","?",";","#"].concat(l).concat(h),p=["/","@","?","#"].concat(f),g=255,v=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,m=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=e("querystring")})()},{punycode:14,querystring:17}],27:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],28:[function(e,t,r){function n(e,t){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),s(n,e,n.depth)}function i(e,t){var r=n.styles[t];return r?"["+n.colors[r][0]+"m"+e+"["+n.colors[r][1]+"m":e}function o(e){return e}function a(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function s(e,t,n){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return y(i)||(i=s(e,i,n)),i}var o=u(e,t);if(o)return o;var p=Object.keys(t),g=a(p);if(e.showHidden&&(p=Object.getOwnPropertyNames(t)),I(t)&&(p.indexOf("message")>=0||p.indexOf("description")>=0))return c(t);if(0===p.length){if(A(t)){var v=t.name?": "+t.name:"";return e.stylize("[Function"+v+"]","special")}if(S(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(T(t))return e.stylize(Date.prototype.toString.call(t),"date");if(I(t))return c(t)}var m="",b=!1,w=["{","}"];if(d(t)&&(b=!0,w=["[","]"]),A(t)){var E=t.name?": "+t.name:"";m=" [Function"+E+"]"}if(S(t)&&(m=" "+RegExp.prototype.toString.call(t)),T(t)&&(m=" "+Date.prototype.toUTCString.call(t)),I(t)&&(m=" "+c(t)),0===p.length&&(!b||0==t.length))return w[0]+m+w[1];if(0>n)return S(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var _;return _=b?f(e,t,n,g,p):p.map(function(r){return l(e,t,n,g,r,b)}),e.seen.pop(),h(_,m,w)}function u(e,t){if(w(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i){for(var o=[],a=0,s=t.length;s>a;++a)L(t,a+"")?o.push(l(e,t,r,n,a+"",!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(e,t,r,n,i,!0))}),o}function l(e,t,r,n,i,o){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),L(n,i)||(a="["+i+"]"),u||(0>e.seen.indexOf(c.value)?(u=g(r)?s(e,c.value,null):s(e,c.value,r-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),w(a)){if(o&&i.match(/^\d+$/))return u;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function h(e,t,r){var n=0,i=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function w(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===O(e)}function E(e){return"object"==typeof e&&null!==e}function T(e){return E(e)&&"[object Date]"===O(e)}function I(e){return E(e)&&("[object Error]"===O(e)||e instanceof Error)}function A(e){return"function"==typeof e}function _(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||e===void 0}function O(e){return Object.prototype.toString.call(e)}function x(e){return 10>e?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=e("__browserify_process"),U="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},P=/%[sdj%]/g;r.format=function(e){if(!y(e)){for(var t=[],r=0;arguments.length>r;r++)t.push(n(arguments[r]));return t.join(" ")}for(var r=1,i=arguments,o=i.length,a=(e+"").replace(P,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return i[r++]+"";case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(t){return"[Circular]"}default:return e}}),s=i[r];o>r;s=i[++r])a+=g(s)||!E(s)?" "+s:" "+n(s);return a},r.deprecate=function(e,t){function n(){if(!i){if(N.throwDeprecation)throw Error(t);N.traceDeprecation?console.trace(t):console.error(t),i=!0}return e.apply(this,arguments)}if(w(U.process))return function(){return r.deprecate(e,t).apply(this,arguments)};if(N.noDeprecation===!0)return e;var i=!1;return n};var j,R={};r.debuglog=function(e){if(w(j)&&(j=N.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(RegExp("\\b"+e+"\\b","i").test(j)){var t=N.pid;R[e]=function(){var n=r.format.apply(r,arguments);console.error("%s %d: %s",e,t,n)}}else R[e]=function(){};return R[e]},r.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=p,r.isNull=g,r.isNullOrUndefined=v,r.isNumber=m,r.isString=y,r.isSymbol=b,r.isUndefined=w,r.isRegExp=S,r.isObject=E,r.isDate=T,r.isError=I,r.isFunction=A,r.isPrimitive=_,r.isBuffer=e("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",C(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}},{"./support/isBuffer":27,__browserify_process:10,inherits:8}],29:[function(e,t){var r=function(){};r.prototype={bind:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},unbind:function(e,t){this._events=this._events||{},e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)},trigger:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;this._events[e].length>t;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["bind","unbind","trigger"],n=0;t.length>n;n++)e.prototype[t[n]]=r.prototype[t[n]]},t!==void 0&&"exports"in t&&(t.exports=r)},{}],30:[function(t,r){var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};(function(e){"use strict";function t(e){var r;if(null===e||void 0===e)return!1;if(n.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(r in e)if(e.hasOwnProperty(r)&&t(e[r]))return!0;return!1}var r=function(){function e(e){this.options=e}return e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},e}(),n=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"[object String]"===Object.prototype.toString.apply(e)}function r(e){return"[object Number]"===Object.prototype.toString.apply(e)}function n(e){return"[object Boolean]"===Object.prototype.toString.apply(e)}function i(e,t){var r,n="",i=!0;for(r=0;e.length>r;r+=1)i?i=!1:n+=t,n+=e[r];return n}function o(e,t){for(var r=[],n=0;e.length>n;n+=1)r.push(t(e[n]));return r}function a(e,t){for(var r=[],n=0;e.length>n;n+=1)t(e[n])&&r.push(e[n]);return r}function s(e){if("object"!=typeof e||null===e)return e;Object.freeze(e);var t,r;for(r in e)e.hasOwnProperty(r)&&(t=e[r],"object"==typeof t&&u(t));return e}function u(e){return"function"==typeof Object.freeze?s(e):e}return{isArray:e,isString:t,isNumber:r,isBoolean:n,join:i,map:o,filter:a,deepFreeze:u}}(),i=function(){function e(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e}function t(e){return e>="0"&&"9">=e}function r(e){return t(e)||e>="a"&&"f">=e||e>="A"&&"F">=e}return{isAlpha:e,isDigit:t,isHexDigit:r}}(),o=function(){function e(e){var t,r,n="",i=a.encode(e);for(r=0;i.length>r;r+=1)t=i.charCodeAt(r),n+="%"+(16>t?"0":"")+t.toString(16).toUpperCase();return n}function t(e,t){return"%"===e.charAt(t)&&i.isHexDigit(e.charAt(t+1))&&i.isHexDigit(e.charAt(t+2))}function r(e,t){return parseInt(e.substr(t,2),16)}function n(e){if(!t(e,0))return!1;var n=r(e,1),i=a.numBytes(n);if(0===i)return!1;for(var o=1;i>o;o+=1)if(!t(e,3*o)||!a.isValidFollowingCharCode(r(e,3*o+1)))return!1;return!0}function o(e,n){var i=e.charAt(n);if(!t(e,n))return i;var o=r(e,n+1),s=a.numBytes(o);if(0===s)return i;for(var u=1;s>u;u+=1)if(!t(e,n+3*u)||!a.isValidFollowingCharCode(r(e,n+3*u+1)))return i;return e.substr(n,3*s)}var a={encode:function(e){return unescape(encodeURIComponent(e))},numBytes:function(e){return 127>=e?1:e>=194&&223>=e?2:e>=224&&239>=e?3:e>=240&&244>=e?4:0},isValidFollowingCharCode:function(e){return e>=128&&191>=e}};return{encodeCharacter:e,isPctEncoded:n,pctCharAt:o}}(),a=function(){function e(e){return i.isAlpha(e)||i.isDigit(e)||"_"===e||o.isPctEncoded(e)}function t(e){return i.isAlpha(e)||i.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e}function r(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e}return{isVarchar:e,isUnreserved:t,isReserved:r}}(),s=function(){function e(e,t){var r,n="",i="";for(("number"==typeof e||"boolean"==typeof e)&&(e=""+e),r=0;e.length>r;r+=i.length)i=e.charAt(r),n+=a.isUnreserved(i)||t&&a.isReserved(i)?i:o.encodeCharacter(i);return n}function t(t){return e(t,!0)}function r(e,t){var r=o.pctCharAt(e,t);return r.length>1?r:a.isReserved(r)||a.isUnreserved(r)?r:o.encodeCharacter(r)}function n(e){var t,r="",n="";for(t=0;e.length>t;t+=n.length)n=o.pctCharAt(e,t),r+=n.length>1?n:a.isReserved(n)||a.isUnreserved(n)?n:o.encodeCharacter(n);return r}return{encode:e,encodePassReserved:t,encodeLiteral:n,encodeLiteralCharacter:r}}(),u=function(){function e(e){t[e]={symbol:e,separator:"?"===e?"&":""===e||"+"===e||"#"===e?",":e,named:";"===e||"&"===e||"?"===e,ifEmpty:"&"===e||"?"===e?"=":"",first:"+"===e?"":e,encode:"+"===e||"#"===e?s.encodePassReserved:s.encode,toString:function(){return this.symbol}}}var t={};return e(""),e("+"),e("#"),e("."),e("/"),e(";"),e("?"),e("&"),{valueOf:function(e){return t[e]?t[e]:"=,!@|".indexOf(e)>=0?null:t[""]}}}(),c=function(){function e(e){this.literal=s.encodeLiteral(e)}return e.prototype.expand=function(){return this.literal},e.prototype.toString=e.prototype.expand,e}(),f=function(){function e(e){function t(){var t=e.substring(d,c);if(0===t.length)throw new r({expressionText:e,message:"a varname must be specified",position:c});h={varname:t,exploded:!1,maxLength:null},d=null}function n(){if(p===c)throw new r({expressionText:e,message:"after a ':' you have to specify the length",position:c});h.maxLength=parseInt(e.substring(p,c),10),p=null}var s,c,f=[],h=null,d=null,p=null,g="";for(s=function(t){var n=u.valueOf(t);if(null===n)throw new r({expressionText:e,message:"illegal use of reserved operator",position:c,operator:t});return n}(e.charAt(0)),c=s.symbol.length,d=c;e.length>c;c+=g.length){if(g=o.pctCharAt(e,c),null!==d){if("."===g){if(d===c)throw new r({expressionText:e,message:"a varname MUST NOT start with a dot",position:c});continue}if(a.isVarchar(g))continue;t()}if(null!==p){if(c===p&&"0"===g)throw new r({expressionText:e,message:"A :prefix must not start with digit 0",position:c});if(i.isDigit(g)){if(c-p>=4)throw new r({expressionText:e,message:"A :prefix must have max 4 digits",position:c});continue}n()}if(":"!==g)if("*"!==g){if(","!==g)throw new r({expressionText:e,message:"illegal character",character:g,position:c});f.push(h),h=null,d=c+1}else{if(null===h)throw new r({expressionText:e,message:"exploded without varspec",position:c});if(h.exploded)throw new r({expressionText:e,message:"exploded twice",position:c});if(h.maxLength)throw new r({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:c});h.exploded=!0}else{if(null!==h.maxLength)throw new r({expressionText:e,message:"only one :maxLength is allowed per varspec",position:c});if(h.exploded)throw new r({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:c});p=c+1}}return null!==d&&t(),null!==p&&n(),f.push(h),new l(e,s,f)}function t(t){var n,i,o=[],a=null,s=0;for(n=0;t.length>n;n+=1)if(i=t.charAt(n),null===s){if(null===a)throw Error("reached unreachable code");if("{"===i)throw new r({templateText:t,message:"brace already opened",position:n});if("}"===i){if(a+1===n)throw new r({templateText:t,message:"empty braces",position:a});try{o.push(e(t.substring(a+1,n)))}catch(u){if(u.prototype===r.prototype)throw new r({templateText:t,message:u.options.message,position:a+u.options.position,details:u.options});throw u}a=null,s=n+1}}else{if("}"===i)throw new r({templateText:t,message:"unopened brace closed",position:n});"{"===i&&(n>s&&o.push(new c(t.substring(s,n))),s=null,a=n)}if(null!==a)throw new r({templateText:t,message:"unclosed brace",position:a});return t.length>s&&o.push(new c(t.substr(s))),new h(t,o)}return t}(),l=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function r(e){if(!t(e))return!0;if(n.isString(e))return""===e;if(n.isNumber(e)||n.isBoolean(e))return!1;if(n.isArray(e))return 0===e.length;for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}function i(e){var t,r=[];for(t in e)e.hasOwnProperty(t)&&r.push({name:t,value:e[t]});return r}function o(e,t,r){this.templateText=e,this.operator=t,this.varspecs=r}function a(e,t,r){var n="";if(r=""+r,t.named){if(n+=s.encodeLiteral(e.varname),""===r)return n+=t.ifEmpty;n+="="}return null!==e.maxLength&&(r=r.substr(0,e.maxLength)),n+=t.encode(r)}function u(e){return t(e.value)}function c(e,o,a){var c=[],f="";if(o.named){if(f+=s.encodeLiteral(e.varname),r(a))return f+=o.ifEmpty;f+="="}return n.isArray(a)?(c=a,c=n.filter(c,t),c=n.map(c,o.encode),f+=n.join(c,",")):(c=i(a),c=n.filter(c,u),c=n.map(c,function(e){return o.encode(e.name)+","+o.encode(e.value)}),f+=n.join(c,",")),f}function f(e,o,a){var c=n.isArray(a),f=[];return c?(f=a,f=n.filter(f,t),f=n.map(f,function(t){var n=s.encodeLiteral(e.varname);return n+=r(t)?o.ifEmpty:"="+o.encode(t)})):(f=i(a),f=n.filter(f,u),f=n.map(f,function(e){var t=s.encodeLiteral(e.name);return t+=r(e.value)?o.ifEmpty:"="+o.encode(e.value)})),n.join(f,o.separator)}function l(e,r){var o=[],a="";return n.isArray(r)?(o=r,o=n.filter(o,t),o=n.map(o,e.encode),a+=n.join(o,e.separator)):(o=i(r),o=n.filter(o,function(e){return t(e.value)}),o=n.map(o,function(t){return e.encode(t.name)+"="+e.encode(t.value)}),a+=n.join(o,e.separator)),a}return o.prototype.toString=function(){return this.templateText},o.prototype.expand=function(i){var o,s,u,h,d=[],p=!1,g=this.operator;for(o=0;this.varspecs.length>o;o+=1)if(s=this.varspecs[o],u=i[s.varname],null!==u&&void 0!==u)if(s.exploded&&(p=!0),h=n.isArray(u),"string"==typeof u||"number"==typeof u||"boolean"==typeof u)d.push(a(s,g,u));else{if(s.maxLength&&t(u))throw Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(u));s.exploded?t(u)&&(g.named?d.push(f(s,g,u)):d.push(l(g,u))):(g.named||!r(u))&&d.push(c(s,g,u))}return 0===d.length?"":g.first+n.join(d,g.separator)},o}(),h=function(){function e(e,t){this.templateText=e,this.expressions=t,n.deepFreeze(this)}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(e){var t,r="";for(t=0;this.expressions.length>t;t+=1)r+=this.expressions[t].expand(e);return r},e.parse=f,e.UriTemplateError=r,e}();e(h)})(function(t){"use strict";r!==void 0?r.exports=t:"function"==typeof e?e([],function(){return t}):"undefined"!=typeof window?window.UriTemplate=t:n.UriTemplate=t})},{}],31:[function(t,r){(function(e){"use strict";e(function(){return function(e){function t(e){if(!(this instanceof t))return new t(e);var r;try{throw Error()}catch(n){r=n}this.key=a++,o[this.key]=this,this.parent=e,this.timestamp=+new Date,this.createdAt=r}function r(e){return e.PromiseStatus=t,e.reportUnhandled=n,e.resetUnhandled=i,e}function n(){return e(o)}function i(){a=0,o={}}var o,a;return t.prototype={observed:function(){return this.key in o&&(delete o[this.key],n()),new t(this)},fulfilled:function(){this.key in o&&(delete o[this.key],n())},rejected:function(e){var t;if(this.key in o){try{throw Error(e&&e.message||e)}catch(r){t=r}this.reason=e,this.rejectedAt=t,n()}}},i(),r({publish:r})}})})("function"==typeof e&&e.amd?e:function(e){r.exports=e()})},{}],32:[function(t,r){(function(e){"use strict";e(function(){function e(e,t){if("function"==typeof e.forEach)return e.forEach(t);var r,n;for(r=-1,n=e.length;n>++r;)t(e[r],r,e)}function t(e,t,r){if("function"==typeof e.reduce)return e.reduce(r,t);var n,i,o;for(n=-1,i=e.length,o=t;i>++n;)o=r(o,e[n],n,e);return o}return{forEach:e,reduce:t}})})("function"==typeof e&&e.amd?e:function(e){r.exports=e()})},{}],33:[function(t,r){(function(e){"use strict";e(function(e){function t(){return g}function r(e){var t=m.promiseStackFilter||c;return t.test(e)}var n,i,o,a,s,u,c,f,l,h,d,p,g,v,m;return n=e("./aggregator"),i=e("./throttledReporter"),o=e("./simpleReporter"),s=e("./simpleFormatter"),u=e("./stackFilter"),h=e("./logger/consoleGroup"),d="=== Unhandled rejection escaped at ===",p="=== Caused by reason ===",v="  --- new call stack ---",g="  ...[filtered frames]...",c=/when\.js|(module|node)\.js:\d|when\/monitor\//i,f=u(r,t),l=o(s(f,d,p,v),h),a=n(i(200,l)),m="undefined"!=typeof console?a.publish(console):a,a})})("function"==typeof e&&e.amd?e:function(e){r.exports=e(t)})},{"./aggregator":31,"./logger/consoleGroup":34,"./simpleFormatter":35,"./simpleReporter":36,"./stackFilter":37,"./throttledReporter":38}],34:[function(t,r){(function(e){"use strict";e(function(e){function t(){}var r,n,i,o;return r=e("../array"),"undefined"==typeof console?o=t:(console.warn&&console.dir?n=function(e){console.warn(e)}:console.log&&"undefined"!=typeof JSON&&(n=function(e){console.log("string"==typeof e?e:JSON.stringify(e))}),n?(i=console.groupCollapsed?function(e,t){console.groupCollapsed(e);try{r.forEach(t,n)}finally{console.groupEnd()}}:function(e,t){n(e),n(t)},o=function(e){e.length?i("[promises] Unhandled rejections: "+e.length,e):n("[promises] All previously unhandled rejections have now been handled")}):o=t),o})})("function"==typeof e&&e.amd?e:function(e){r.exports=e(t)})},{"../array":32}],35:[function(t,r){(function(e){"use strict";e(function(){var e;try{throw Error()}catch(t){e=!!t.stack}return function(t,r,n,i){function o(e){var t=[];for(e=e.parent;e;)t.push(a(e)),e=e.parent;return t}function a(e){return t(u(e.createdAt.stack).slice(1))}function s(e,o,a){return e=t(u(e)).slice(1),a=t(u(a)),o.reduce(function(e,t,r){return r?e.concat(i,t):e.concat(t)},[r]).concat(n,a)}function u(e){return e?e.split("\n"):[]}return function(t){var r,n;if(n={reason:t.reason,message:t.reason&&""+t.reason},e){r=t.reason&&t.reason.stack,r||(r=t.rejectedAt&&t.rejectedAt.stack);var i=o(t);n.stack=s(t.createdAt.stack,i,r)}return n}}})})("function"==typeof e&&e.amd?e:function(e){r.exports=e()})},{}],36:[function(t,r){(function(e){"use strict";e(function(){function e(e,t){var r,n,i;i=[];for(r in t)n=t[r],n.rejectedAt&&i.push(e(n));return i}return function(t,r){var n=0;return function(i){if(i=e(t,i),0!==n||0!==i.length)try{r(i)}finally{n=i.length}}}})})("function"==typeof e&&e.amd?e:function(e){r.exports=e()})},{}],37:[function(t,r){(function(e){"use strict";e(function(e){var t=e("./array");return function(e,r){return function(n){var i;return n&&n.length?(i=[],t.reduce(n,[],function(t,n){var o;return o=e(n),o?(i||(i=[]),i.push(n)):(i&&t.length>1&&(t=t.concat(r(i)),i=null),t.push(n)),t})):[]}}})})("function"==typeof e&&e.amd?e:function(e){r.exports=e(t)})},{"./array":32}],38:[function(t,r){(function(e){"use strict";e(function(){return function(e,t){var r,n;return function(i){n=i,null==r&&(r=setTimeout(function(){r=null,t(n)},e))}}})})("function"==typeof e&&e.amd?e:function(e){r.exports=e()})},{}],39:[function(t,r){var n=t("__browserify_process");(function(e){"use strict";e(function(e){function t(e,t,r,n){return o(e).then(t,r,n)}function r(e){return new i(e,H.PromiseStatus&&H.PromiseStatus())}function i(e,t){function r(){return u?u.inspect():O()}function n(e,t,r,n,i){function o(o){o._when(e,t,r,n,i)}l?l.push(o):x(function(){o(u)})}function i(e){if(l){var r=l;l=V,x(function(){u=f(s,e),t&&g(u,t),c(r,u)})}}function o(e){i(new d(e))}function a(e){if(l){var t=l;x(function(){c(t,new p(e))})}}var s,u,l=[];s=this,this._status=t,this.inspect=r,this._when=n;try{e(i,o,a)}catch(h){o(h)}}function o(e){return e instanceof i?e:a(e)}function a(e){return r(function(t){t(e)})}function s(e){return t(e,function(e){return new d(e)})}function u(){function e(e,r,o){t.resolve=t.resolver.resolve=function(t){return i?a(t):(i=!0,e(t),n)},t.reject=t.resolver.reject=function(e){return i?a(new d(e)):(i=!0,r(e),n)},t.notify=t.resolver.notify=function(e){return o(e),e}}var t,n,i;return t={promise:V,resolve:V,reject:V,notify:V,resolver:{resolve:V,reject:V,notify:V}},t.promise=n=r(e),t}function c(e,t){for(var r=0;e.length>r;r++)e[r](t)}function f(e,t){if(t===e)return new d(new TypeError);if(t instanceof i)return t;try{var r=t===Object(t)&&t.then;return"function"==typeof r?l(r,t):new h(t)}catch(n){return new d(n)}}function l(e,t){return r(function(r,n){D(e,t,r,n)})}function h(e){this.value=e}function d(e){this.value=e}function p(e){this.value=e}function g(e,t){function r(){t.fulfilled()}function n(e){t.rejected(e)}e.then(r,n)}function v(e){return e&&"function"==typeof e.then}function m(e,n,i,o,a){return t(e,function(e){function s(r,i,o){function a(e){d(e)}function s(e){h(e)}var u,c,f,l,h,d,p,g;if(p=e.length>>>0,u=Math.max(0,Math.min(n,p)),f=[],c=p-u+1,l=[],u)for(d=function(e){l.push(e),--c||(h=d=L,i(l))},h=function(e){f.push(e),--u||(h=d=L,r(f))
},g=0;p>g;++g)g in e&&t(e[g],s,a,o);else r(f)}return r(s).then(i,o,a)})}function y(e,t,r,n){function i(e){return t?t(e[0]):e[0]}return m(e,1,i,r,n)}function b(e,t,r,n){return T(e,L).then(t,r,n)}function w(){return T(arguments,L)}function S(e){return T(e,A,_)}function E(e,t){return T(e,t)}function T(e,r,n){return t(e,function(e){function o(i,o,a){function s(e,s){t(e,r,n).then(function(e){u[s]=e,--f||i(u)},o,a)}var u,c,f,l;if(f=c=e.length>>>0,u=[],!f)return i(u),void 0;for(l=0;c>l;l++)l in e?s(e[l],l):--f}return new i(o)})}function I(e,r){var n=D(R,arguments,1);return t(e,function(e){var i;return i=e.length,n[0]=function(e,n,o){return t(e,function(e){return t(n,function(t){return r(e,t,o,i)})})},j.apply(e,n)})}function A(e){return{state:"fulfilled",value:e}}function _(e){return{state:"rejected",reason:e}}function O(){return{state:"pending"}}function x(e){1===B.push(e)&&M(C)}function C(){c(B),B=[]}function L(e){return e}function N(e){throw"function"==typeof H.reportUnhandled?H.reportUnhandled():x(function(){throw e}),e}t.promise=r,t.resolve=a,t.reject=s,t.defer=u,t.join=w,t.all=b,t.map=E,t.reduce=I,t.settle=S,t.any=y,t.some=m,t.isPromise=v,t.isPromiseLike=v,U=i.prototype,U.then=function(e,t,r){var n=this;return new i(function(i,o,a){n._when(i,a,e,t,r)},this._status&&this._status.observed())},U["catch"]=U.otherwise=function(e){return this.then(V,e)},U["finally"]=U.ensure=function(e){function t(){return a(e())}return"function"==typeof e?this.then(t,t).yield(this):this},U.done=function(e,t){this.then(e,t)["catch"](N)},U.yield=function(e){return this.then(function(){return e})},U.tap=function(e){return this.then(e).yield(this)},U.spread=function(e){return this.then(function(t){return b(t,function(t){return e.apply(V,t)})})},U.always=function(e,t){return this.then(e,e,t)},P=Object.create||function(e){function t(){}return t.prototype=e,new t},h.prototype=P(U),h.prototype.inspect=function(){return A(this.value)},h.prototype._when=function(e,t,r){try{e("function"==typeof r?r(this.value):this.value)}catch(n){e(new d(n))}},d.prototype=P(U),d.prototype.inspect=function(){return _(this.value)},d.prototype._when=function(e,t,r,n){try{e("function"==typeof n?n(this.value):this)}catch(i){e(new d(i))}},p.prototype=P(U),p.prototype._when=function(e,t,r,n,i){try{t("function"==typeof i?i(this.value):this.value)}catch(o){t(o)}};var U,P,j,R,D,M,B,k,F,q,H,z,G,W,V;if(G=e,B=[],H="undefined"!=typeof console?console:t,"object"==typeof n&&n.nextTick)M=n.nextTick;else if(W="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)M=function(e,t,r){var n=e.createElement("div");return new t(r).observe(n,{attributes:!0}),function(){n.setAttribute("x","x")}}(document,W,C);else try{M=G("vertx").runOnLoop||G("vertx").runOnContext}catch(J){z=setTimeout,M=function(e){z(e,0)}}return k=Function.prototype,F=k.call,D=k.bind?F.bind(F):function(e,t){return e.apply(t,R.call(arguments,2))},q=[],R=q.slice,j=q.reduce||function(e){var t,r,n,i,o;if(o=0,t=Object(this),i=t.length>>>0,r=arguments,1>=r.length)for(;;){if(o in t){n=t[o++];break}if(++o>=i)throw new TypeError}else n=r[1];for(;i>o;++o)o in t&&(n=e(n,t[o],o,t));return n},t})})("function"==typeof e&&e.amd?e:function(e){r.exports=e(t)})},{__browserify_process:10}],40:[function(e,t,r){var n=e("__browserify_process"),i=e("__browserify_Buffer"),o=e("url"),a=e("child_process").spawn,s=e("fs");r.XMLHttpRequest=function(){var t,r,u=this,c=e("http"),f=e("https"),l={},h=!1,d={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},p=d,g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],v=["TRACE","TRACK","CONNECT"],m=!1,y=!1,b={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null;var w=function(e){return h||e&&-1===g.indexOf(e.toLowerCase())},S=function(e){return e&&-1===v.indexOf(e)};this.open=function(e,t,r,n,i){if(this.abort(),y=!1,!S(e))throw"SecurityError: Request method not allowed";l={method:e,url:""+t,async:"boolean"!=typeof r?!0:r,user:n||null,password:i||null},E(this.OPENED)},this.setDisableHeaderCheck=function(e){h=e},this.setRequestHeader=function(e,t){if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN";if(!w(e))return console.warn('Refused to set unsafe header "'+e+'"'),void 0;if(m)throw"INVALID_STATE_ERR: send flag is true";p[e]=t},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&r.headers[e.toLowerCase()]&&!y?r.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||y)return"";var e="";for(var t in r.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+r.headers[t]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&p[e]?p[e]:""},this.send=function(e){function h(e){if(r=e,302===r.statusCode||303===r.statusCode||307===r.statusCode){l.url=r.headers.location;var n=o.parse(l.url);g=n.hostname;var i={hostname:n.hostname,port:n.port,path:n.path,method:303===r.statusCode?"GET":l.method,headers:p};return t=O(i,h).on("error",d),t.end(),void 0}r.setEncoding("utf8"),E(u.HEADERS_RECEIVED),u.status=r.statusCode,r.on("data",function(e){e&&(u.responseText+=e),m&&E(u.LOADING)}),r.on("end",function(){m&&(E(u.DONE),m=!1)}),r.on("error",function(e){u.handleError(e)})}function d(e){u.handleError(e)}if(this.readyState!=this.OPENED)throw"INVALID_STATE_ERR: connection must be opened before send() is called";if(m)throw"INVALID_STATE_ERR: send has already been called";var g,v=!1,b=!1,w=o.parse(l.url);switch(w.protocol){case"https:":v=!0;case"http:":g=w.hostname;break;case"file:":b=!0;break;case void 0:case"":g="localhost";break;default:throw"Protocol not supported."}if(b){if("GET"!==l.method)throw"XMLHttpRequest: Only GET method is supported";if(l.async)s.readFile(w.pathname,"utf8",function(e,t){e?u.handleError(e):(u.status=200,u.responseText=t,E(u.DONE))});else try{this.responseText=s.readFileSync(w.pathname,"utf8"),this.status=200,E(u.DONE)}catch(S){this.handleError(S)}}else{var T=w.port||(v?443:80),I=w.pathname+(w.search?w.search:"");if(p.Host=g,v&&443===T||80===T||(p.Host+=":"+w.port),l.user){l.password===void 0&&(l.password="");var A=new i(l.user+":"+l.password);p.Authorization="Basic "+A.toString("base64")}"GET"===l.method||"HEAD"===l.method?e=null:e?(p["Content-Length"]=i.isBuffer(e)?e.length:i.byteLength(e),p["Content-Type"]||(p["Content-Type"]="text/plain;charset=UTF-8")):"POST"===l.method&&(p["Content-Length"]=0);var _={host:g,port:T,path:I,method:l.method,headers:p,agent:!1};if(y=!1,l.async){var O=v?f.request:c.request;m=!0,u.dispatchEvent("readystatechange"),t=O(_,h).on("error",d),e&&t.write(e),t.end(),u.dispatchEvent("loadstart")}else{var x=".node-xmlhttprequest-content-"+n.pid,C=".node-xmlhttprequest-sync-"+n.pid;s.writeFileSync(C,"","utf8");for(var L="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(v?"s":"")+".request;"+"var options = "+JSON.stringify(_)+";"+"var responseText = '';"+"var req = doRequest(options, function(response) {"+"response.setEncoding('utf8');"+"response.on('data', function(chunk) {"+"  responseText += chunk;"+"});"+"response.on('end', function() {"+"fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');"+"fs.unlinkSync('"+C+"');"+"});"+"response.on('error', function(error) {"+"fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');"+"fs.unlinkSync('"+C+"');"+"});"+"}).on('error', function(error) {"+"fs.writeFileSync('"+x+"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');"+"fs.unlinkSync('"+C+"');"+"});"+(e?"req.write('"+e.replace(/'/g,"\\'")+"');":"")+"req.end();",N=a(n.argv[0],["-e",L]);s.existsSync(C););if(u.responseText=s.readFileSync(x,"utf8"),N.stdin.end(),s.unlinkSync(x),u.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)){var U=u.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/,"");u.handleError(U)}else u.status=u.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/,"$1"),u.responseText=u.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/,"$1"),E(u.DONE)}}},this.handleError=function(e){this.status=503,this.statusText=e,this.responseText=e.stack,y=!0,E(this.DONE)},this.abort=function(){t&&(t.abort(),t=null),p=d,this.responseText="",this.responseXML="",y=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!m||this.readyState===this.DONE||(m=!1,E(this.DONE)),this.readyState=this.UNSENT},this.addEventListener=function(e,t){e in b||(b[e]=[]),b[e].push(t)},this.removeEventListener=function(e,t){e in b&&(b[e]=b[e].filter(function(e){return e!==t}))},this.dispatchEvent=function(e){if("function"==typeof u["on"+e]&&u["on"+e](),e in b)for(var t=0,r=b[e].length;r>t;t++)b[e][t].call(u)};var E=function(e){u.readyState!==e&&(u.readyState=e,(l.async||u.readyState<u.OPENED||u.readyState===u.DONE)&&u.dispatchEvent("readystatechange"),u.readyState!==u.DONE||y||(u.dispatchEvent("load"),u.dispatchEvent("loadend")))}}},{__browserify_Buffer:9,__browserify_process:10,child_process:1,fs:1,http:3,https:7,url:26}],41:[function(e,t){function r(e){return i.create(this.itemType,e,this.api)}var n=e("./utils"),i=e("./object"),o=function(e,t,r,n){var o=this;i.apply(this,arguments),this.itemType=n,t||(t={}),t.items||this.prop("items",t.items=[]),t.items.length>0&&this.add(t.items,!0),this.on("sync",function(e){e&&e.items&&(o.removeAll(),o.add(e.items))})};o.prototype=n.extend(new i,{isCollection:!0,constructor:o,add:function(e,t){if("Array"!==n.getType(e)&&(e=[e]),Array.prototype.push.apply(this,n.map(e,r,this)),!t){var i=this.prop("items");this.prop("items",i.concat(e))}},remove:function(e){var t=e;"number"!=typeof e&&(t=n.indexOf(this,e)),Array.prototype.splice.call(this,t,1)},replace:function(e,t){Array.prototype.splice.apply(this,[0,this.length].concat(n.map(e,r,this))),t||this.prop("items",e)},removeAll:function(e){Array.prototype.splice.call(this,0,this.length),e||this.prop("items",[])},getIndex:function(){var e=this.currentIndex;return e||0===e||(e=this.prop("startIndex")),e||0===e||(e=0),e},setIndex:function(e,t){var r=this,i=this.get(n.extend(t,{startIndex:e}));return i.then(function(){r.currentIndex=e}),i},firstPage:function(e){var t=this.getIndex();if(0===t)throw"This "+this.type+" collection is already at record 0 and has no previous page.";return this.setIndex(0,e)},prevPage:function(e){var t=this.getIndex(),r=this.prop("pageSize"),n=Math.max(t-r,0);if(0===t)throw"This "+this.type+" collection is already at record 0 and has no previous page.";return this.setIndex(n,e)},nextPage:function(e){var t=this.getIndex(),r=this.prop("pageSize"),n=t+r;if(!(this.prop("totalCount")>n))throw"This "+this.type+" collection is already at its last page and has no next page.";return this.setIndex(n,e)},lastPage:function(e){var t=this.prop("totalCount"),r=this.prop("pageSize"),n=t-r;if(0>=n)throw"This "+this.type+" collection has only one page.";return this.setIndex(n,e)}}),o.types={locations:e("./types/locations")},o.hydratedTypes={},o.getHydratedType=i.getHydratedType,o.create=function(e,t,r,n){return new(e in this.types?this.types[e]:this)(e,t,r,n)},o.create=function(e,t,r,n){var i=this.getHydratedType(e);return new i(e,t,r,n)},t.exports=o},{"./object":48,"./types/locations":53,"./utils":60}],42:[function(e,t){t.exports={DEFAULT_WISHLIST_NAME:"my_wishlist",PAYMENT_STATUSES:{NEW:"New"},PAYMENT_ACTIONS:{VOID:"VoidPayment"},ORDER_STATUSES:{ABANDONED:"Abandoned",ACCEPTED:"Accepted",CANCELLED:"Cancelled",COMPLETED:"Completed",CREATED:"Created",PENDING_REVIEW:"PendingReview",PROCESSING:"Processing",SUBMITTED:"Submitted",VALIDATED:"Validated"},ORDER_ACTIONS:{CREATE_ORDER:"CreateOrder",SUBMIT_ORDER:"SubmitOrder",ACCEPT_ORDER:"AcceptOrder",VALIDATE_ORDER:"ValidateOrder",SET_ORDER_AS_PROCESSING:"SetOrderAsProcessing",COMPLETE_ORDER:"CompleteOrder",CANCEL_ORDER:"CancelOrder",REOPEN_ORDER:"ReopenOrder"},FULFILLMENT_METHODS:{SHIP:"Ship",PICKUP:"Pickup"}}},{}],43:[function(e,t){var r,n=e("./interface"),i=e("./reference"),o=e("./utils"),a=function(t){o.extend(this,t),a.__debug__===!0&&(a.__debug__=e("when/monitor/console"))},s=["app-claims","user-claims","callchain","currency","locale"],u=["tenant","site","master-catalog"],c=(u.length,s.concat(u)),f=c.length,l=function(e){a.prototype[o.camelCase(e,!0)]=function(t){if(void 0===t)return this[e];var r=this.asObject();return r[e]=t,new a(r)}},h=function(e){a.prototype[o.camelCase(e,!0)]=function(t){return void 0===t?this[e]:(this[e]=t,this)}};for(a.prototype={constructor:a,api:function(){return this._apiInstance||(this._apiInstance=new n(this))},Store:function(e){return new a(e)},asObject:function(e){var t={};e=e||"";for(var r=0;f>r;r++)t[e+c[r]]=this[c[r]];return t},setServiceUrls:function(e){i.urls=e},getServiceUrls:function(){return o.extend({},i.urls)},currency:"usd",locale:"en-US"},r=0;u.length>r;r++)l(u[r]);for(r=0;s.length>r;r++)h(s[r]);t.exports=a},{"./interface":46,"./reference":49,"./utils":60,"when/monitor/console":33}],44:[function(e,t){function r(){return this.name+": "+this.message}var n=e("./utils"),i={},o={register:function(e,t){if("object"==typeof e)for(var r in e)o.register(r,e[r]);else i[e]={code:e,message:t}},create:function(e){var t=n.formatString.apply(n,[i[e].message].concat(n.slice(arguments,1)));return{name:e,level:1,message:t,htmlMessage:t,toString:r}},throwOnObject:function(e,t){var r=o.create.apply(o,[t].concat(n.slice(arguments,2)));throw e.fire("error",r),e.api.fire("error",r,e),r},passFrom:function(e,t){e.on("error",function(){t.fire.apply(t,["error"].concat(n.slice(arguments)))})}};t.exports=o},{"./utils":60}],45:[function(e,t){var r=e("./context"),n=new r;t.exports=n},{"./context":43}],46:[function(e,t){var r=e("./utils"),n=e("./reference"),i=e("./object"),o="No {0} was specified. Run Mozu.Tenant(tenantId).MasterCatalog(masterCatalogId).Site(siteId).",a=["Tenant","MasterCatalog","Site"],s=function(e){for(var t=0,r=a.length;r>t;t++)if(void 0===e[a[t]]())throw new ReferenceError(o.split("{0}").join(a[t]));this.context=e};s.prototype={constructor:s,request:function(e,t,n){var i=this,o="string"==typeof t?t:t.url;t.verb&&(e=t.verb);var a,s=i.defer();t.overridePostData?a=t.overridePostData:n&&!t.noBody&&(a=n.data||n);var u=this.context.asObject("x-vol-"),c=r.request(e,o,u,a,function(e){i.fire("success",e,c,t),s.resolve(e,c)},function(e){s.reject(e,c,o)},t.iframeTransportUrl),f=!1,l=function(){f=!0,c.abort(),s.reject("Request cancelled.")};return this.fire("request",c,l,s.promise,t,n),s.promise.otherwise(function(e){if(!f)throw i.fire("error",e,c,t),e}),s.promise},action:function(e,t,o){var a=this,s=e instanceof i?e:a.createSync(e),u=s.type;s.fire("action",t,o),a.fire("action",s,t,o);var c=n.getRequestConfig(t,u,o||s.data,a.context,s);return"update"!=t&&"create"!=t||o||(o=s.data),a.request(n.basicOps[t],c,o).then(function(e){if(c.returnType){var t=i.create(c.returnType,e,a);return s.fire("spawn",t),a.fire("spawn",t,s),t}return(e||0===e||e===!1)&&(s.data=r.clone(e)),delete s.unsynced,s.fire("sync",e,s.data),a.fire("sync",s,e,s.data),s},function(e){throw s.fire("error",e),a.fire("error",e,s),e})},all:function(){return r.when.join.apply(r.when,arguments)},steps:function(){var e="[object Array]"===Object.prototype.toString.call(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return r.pipeline(Array.prototype.slice.call(e))},defer:function(){return r.when.defer()},getAvailableActionsFor:function(e){return n.getActionsFor(e)}};var u=function(e){s.prototype[e]=function(t,r,n){return this.action(t,e,r,n)}};for(var c in n.basicOps)n.basicOps.hasOwnProperty(c)&&u(c);s.prototype.createSync=function(e,t){var r=i.create(e,t,this);return r.unsynced=!0,this.fire("spawn",r),r},r.addEvents(s),t.exports=s},{"./object":48,"./reference":49,"./utils":60}],47:[function(e,t){t.exports={products:{template:"{+productService}{?_*}",shortcutParam:"filter",defaultParams:{startIndex:0,pageSize:15},collectionOf:"product"},categories:{template:"{+categoryService}{?_*}",shortcutParam:"filter",defaultParams:{startIndex:0,pageSize:15},collectionOf:"category"},category:{template:"{+categoryService}{id}(?allowInactive}",shortcutParam:"Id",defaultParams:{allowInactive:!1}},search:{template:"{+searchService}search{?query,filter,facetTemplate,facetTemplateSubset,facet,facetFieldRangeQuery,facetHierPrefix,facetHierValue,facetHierDepth,facetStartIndex,facetPageSize,facetSettings,facetValueFilter,sortBy,pageSize,PageSize,startIndex,StartIndex}",shortcutParam:"query",defaultParams:{startIndex:0,query:"*:*",pageSize:15},collectionOf:"product"},customers:{collectionOf:"customer"},orders:{template:"{+orderService}{?_*}",defaultParams:{startIndex:0,pageSize:5},collectionOf:"order"},product:{get:{template:"{+productService}{productCode}?{&allowInactive*}",shortcutParam:"productCode",defaultParams:{allowInactive:!1}},configure:{verb:"POST",template:"{+productService}{productCode}/configure{?includeOptionDetails}",defaultParams:{includeOptionDetails:!0},includeSelf:!0},"add-to-cart":{verb:"POST",includeSelf:{asProperty:"product"},overridePostData:["product","quantity","fulfillmentLocationCode","fulfillmentMethod"],shortcutParam:"quantity",returnType:"cartitem",template:"{+cartService}current/items/"},"get-inventory":{template:"{+productService}{productCode}/locationinventory{?locationCodes}",includeSelf:!0,shortcutParam:"locationcodes",returnType:"string"}},location:{get:{template:"{+locationService}locationUsageTypes/SP/locations/{code}",shortcutParam:"code"}},locations:{defaultParams:{pageSize:15},collectionOf:"location",get:{template:"{+locationService}locationUsageTypes/SP/locations/{?startIndex,sortBy,pageSize,filter}"},"get-by-lat-long":{template:"{+locationService}locationUsageTypes/SP/locations/?filter=geo near({latitude},{longitude}){&startIndex,sortBy,pageSize}"}},cart:{get:"{+cartService}current","get-summary":"{+cartService}summary","add-product":{verb:"POST",returnType:"cartitem",template:"{+cartService}current/items/"},empty:{verb:"DELETE",template:"{+cartService}current/items/"},checkout:{verb:"POST",template:"{+orderService}?cartId={id}",returnType:"order",noBody:!0,includeSelf:!0}},cartitem:{defaults:{template:"{+cartService}current/items/{id}",shortcutParam:"id"},"update-quantity":{verb:"PUT",template:"{+cartService}current/items{/id,quantity}",shortcutParam:"quantity",includeSelf:!0,noBody:!0}},customer:{template:"{+customerService}{id}",shortcutParam:"id",includeSelf:!0,create:{verb:"POST",template:"{+customerService}add-account-and-login",returnType:"login"},"create-storefront":{useIframeTransport:"{+storefrontUserService}../../receiver",verb:"POST",template:"{+storefrontUserService}create",returnType:"login"},login:{useIframeTransport:"{+customerService}../../receiver",verb:"POST",template:"{+customerService}../authtickets",returnType:"login"},"login-storefront":{useIframeTransport:"{+storefrontUserService}../../receiver",verb:"POST",template:"{+storefrontUserService}login",returnType:"login"},update:{verb:"PUT",template:"{+customerService}{id}",includeSelf:!0},"reset-password":{verb:"POST",template:"{+customerService}reset-password",returnType:"string"},"reset-password-storefront":{useIframeTransport:"{+storefrontUserService}../../receiver",verb:"POST",template:"{+storefrontUserService}resetpassword",returnType:"string"},"change-password":{verb:"POST",template:"{+customerService}{id}/change-password",includeSelf:!0},"get-orders":{template:"{+orderService}?filter=OrderNumber ne null",includeSelf:!0,returnType:"orders"},"get-cards":{template:"{+customerService}{id}/cards",includeSelf:!0,returnType:"accountcards"},"add-card":{verb:"POST",template:"{+customerService}{customer.id}/cards",includeSelf:{asProperty:"customer"},returnType:"accountcard"},"update-card":{verb:"PUT",template:"{+customerService}{customer.id}/cards/{id}",includeSelf:{asProperty:"customer"},returnType:"accountcard"},"delete-card":{verb:"DELETE",template:"{+customerService}{customer.id}/cards/{id}",shortcutParam:"id",includeSelf:{asProperty:"customer"},returnType:"accountcard"},"add-contact":{verb:"POST",template:"{+customerService}{id}/contacts",includeSelf:!0,returnType:"contact"},"get-contacts":{template:"{+customerService}{id}/contacts",includeSelf:!0,returnType:"contacts"},"delete-contact":{verb:"DELETE",template:"{+customerService}{customer.id}/contacts/{id}",shortcutParam:"id",includeSelf:{asProperty:"customer"},returnType:"contact"},"get-credits":{template:"{+creditService}",returnType:"storecredits"}},storecredit:{"associate-to-shopper":{verb:"PUT",template:"{+creditService}{code}/associate-to-shopper",includeSelf:!0}},storecredits:{template:"{+creditService}",collectionOf:"storecredit"},contact:{template:"{+customerService}{accountId}/contacts/{id}",includeSelf:!0},contacts:{collectionOf:"contact"},login:"{+userService}login",address:{"validate-address":{verb:"POST",template:"{+addressValidationService}",includeSelf:{asProperty:"address"},overridePostData:!0,returnType:"address"}},order:{template:"{+orderService}{id}",includeSelf:!0,create:{template:"{+orderService}{?cartId*}",shortcutParam:"cartId",noBody:!0},"update-shipping-info":{template:"{+orderService}{id}/fulfillmentinfo",verb:"PUT",returnType:"shipment",includeSelf:!0},"set-user-id":{verb:"PUT",template:"{+orderService}{id}/users",noBody:!0,includeSelf:!0,returnType:"user"},"create-payment":{verb:"POST",template:"{+orderService}{id}/payments/actions",includeSelf:!0},"perform-payment-action":{verb:"POST",template:"{+orderService}{id}/payments/{paymentId}/actions",includeSelf:!0,shortcutParam:"paymentId",returnType:"string"},"apply-coupon":{verb:"PUT",template:"{+orderService}{id}/coupons/{couponCode}",shortcutParam:"couponCode",includeSelf:!0,noBody:!0,returnType:"coupon"},"remove-coupon":{verb:"DELETE",template:"{+orderService}{id}/coupons/{couponCode}",shortcutParam:"couponCode",includeSelf:!0},"remove-all-coupons":{verb:"DELETE",template:"{+orderService}{id}/coupons",includeSelf:!0},"get-available-actions":{template:"{+orderService}{id}/actions",includeSelf:!0,returnType:"orderactions"},"perform-order-action":{verb:"POST",template:"{+orderService}{id}/actions",shortcutParam:"actionName",overridePostData:["actionName"],includeSelf:!0},"add-order-note":{verb:"POST",template:"{+orderService}{id}/notes",includeSelf:!0,returnType:"ordernote"}},rma:{create:{verb:"POST",template:"{+returnService}"}},rmas:{template:"{+returnService}{?_*}",defaultParams:{startIndex:0,pageSize:5},collectionOf:"rma"},shipment:{defaults:{template:"{+orderService}{orderId}/fulfillmentinfo",includeSelf:!0},"get-shipping-methods":{template:"{+orderService}{orderId}/shipments/methods",returnType:"shippingmethods"}},payment:{create:{template:"{+orderService}{orderId}/payments/actions",includeSelf:!0}},accountcard:{template:"{+customerService}{id}/cards"},accountcards:{collectionOf:"accountcard"},creditcard:{defaults:{useIframeTransport:"{+paymentService}../../Assets/mozu_receiver.html"},save:{verb:"POST",template:"{+paymentService}",returnType:"string"},update:{verb:"PUT",template:"{+paymentService}{cardId}",returnType:"string"},del:{verb:"DELETE",shortcutParam:"cardId",template:"{+paymentService}{cardId}"}},creditcards:{collectionOf:"creditcard"},ordernote:{template:"{+orderService}{orderId}/notes/{id}"},document:{get:{template:"{+cmsService}{/documentListName,documentId}/{?version,status}",shortcutParam:"documentId",defaultParams:{documentListName:"default"}}},documentbyname:{get:{template:"{+cmsService}{documentListName}/documentTree/{documentName}/{?folderPath,version,status}",shortcutParam:"documentName",defaultParams:{documentListName:"default"}}},addressschemas:"{+referenceService}addressschemas",wishlist:{get:{template:"{+wishlistService}{id}",includeSelf:!0},"get-by-name":{template:"{+wishlistService}customers/{customerAccountId}/{name}",includeSelf:!0},"get-default":{template:"{+wishlistService}customers/{customerAccountId}/my_wishlist",includeSelf:!0},"create-default":{verb:"POST",template:"{+wishlistService}",defaultParams:{name:"my_wishlist",typeTag:"default"},overridePostData:!0},"add-item":{verb:"POST",template:"{+wishlistService}{id}/items/",includeSelf:!0},"delete-all-items":{verb:"DELETE",template:"{+wishlistService}{id}/items/"},"delete-item":{verb:"DELETE",template:"{+wishlistService}{id}/items/{itemId}",includeSelf:!0,shortcutParam:"itemId"},"edit-item":{verb:"PUT",template:"{+wishlistService}{id}/items/{itemId}",includeSelf:!0},"add-item-to-cart":{verb:"POST",returnType:"cartitem",template:"{+cartService}current/items/"},"get-items-by-name":{returnType:"wishlistitems",template:"{+wishlistService}customers/{customerAccountId}/{name}/items{?startIndex,pageSize,sortBy,filter}",defaultParams:{sortBy:"UpdateDate asc"},includeSelf:!0}},wishlists:{collectionOf:"wishlist"}}},{}],48:[function(e,t){var r,n,i=e("./utils"),o=function(e,t,r){this.data=t||{},this.api=r,this.type=e};o.prototype={constructor:o,getAvailableActions:function(){return r=r||e("./reference"),r.getActionsFor(this.type)},prop:function(e,t){switch(arguments.length){case 1:if("string"==typeof e)return this.data[e];if("object"==typeof e)for(var r in e)e.hasOwnProperty(r)&&this.prop(r,e[r]);break;case 2:this.data[e]=t}return this}},i.addEvents(o),o.types={cart:e("./types/cart"),creditcard:e("./types/creditcard"),customer:e("./types/customer"),login:e("./types/login"),order:e("./types/order"),product:e("./types/product"),shipment:e("./types/shipment"),user:e("./types/user"),wishlist:e("./types/wishlist")},o.hydratedTypes={},o.getHydratedType=function(t){if(r=r||e("./reference"),!(t in this.hydratedTypes)){for(var n=r.getActionsFor(t),o={},a=n.length-1;a>=0;a--)i.setOp(o,n[a]);this.hydratedTypes[t]=i.inherit(this,i.extend({},o,this.types[t]||{}))}return this.hydratedTypes[t]},o.create=function(t,i,o){r=r||e("./reference");var a=r.getType(t);if(!a)return i;if(a.collectionOf)return n=n||e("./collection"),n.create(t,i,o,a.collectionOf);var s=this.getHydratedType(t);return new s(t,i,o)},t.exports=o},{"./collection":41,"./reference":49,"./types/cart":50,"./types/creditcard":51,"./types/customer":52,"./types/login":54,"./types/order":55,"./types/product":56,"./types/shipment":57,"./types/user":58,"./types/wishlist":59,"./utils":60}],49:[function(e,t){var r,n=e("./utils"),i=e("./errors"),o=e("./object"),a=e("./methods.json");i.register({NO_REQUEST_CONFIG_FOUND:"No request configuration was found for {0}.{1}",NO_SHORTCUT_PARAM_FOUND:'No shortcut parameter available for {0}. Please supply a configuration object instead of "{1}".'});var s={get:"GET",update:"PUT",create:"POST",del:"DELETE"},u=["verb","returnType","noBody"],c=u.length,f={template:!0,defaultParams:!0,shortcutParam:!0,defaults:!0,verb:!0,returnType:!0,noBody:!0,includeSelf:!0,collectionOf:!0,overridePostData:!0,useIframeTransport:!0,construct:!0,postconstruct:!0},l={basicOps:s,urls:{},getActionsFor:function(t){if(r=r||e("./collection"),!a[t])return!1;var i=[],u="string"==typeof a[t];for(var c in s)!u&&c in a[t]||i.push(c);if(!u)for(c in a[t])c&&a[t].hasOwnProperty(c)&&!f[c]&&i.push(n.camelCase(c));var l=(a[t].collectionOf?r:o).types[t];if(l)for(c in l)!u&&(n.dashCase(c)in a[t]&&!f[c]||"function"!=typeof l[c])||i.push(c);return i},getRequestConfig:function(e,t,r,o,s){var f,h,d=a[t];d||i.throwOnObject(s,"NO_REQUEST_CONFIG_FOUND",t,""),e&&(e=n.dashCase(e)),d[e]&&(d=d[e]),"string"==typeof d&&(d={template:d}),a[t].defaults&&(d=n.extend({},a[t].defaults,d)),d.template||i.throwOnObject(s,"NO_REQUEST_CONFIG_FOUND",t,e),f={},h={},"string"==typeof d.template&&(d.template=n.uritemplate.parse(d.template)),d.includeSelf&&s&&(d.includeSelf.asProperty?h[d.includeSelf.asProperty]=s.data:h=n.extend(h,s.data)),void 0!==r&&"object"!=typeof r?(d.shortcutParam||i.throwOnObject(s,"NO_SHORTCUT_PARAM_FOUND",t,r),h[d.shortcutParam]=r):r&&n.extend(h,r),d.defaultParams&&(h=n.extend({},d.defaultParams,h));for(var p in h)"Array"==n.getType(h[p])&&(h[p]=JSON.stringify(h[p]));var g=n.extend({_:h},o.asObject("context-"),n.flatten(h,{}),l.urls);f.url=d.template.expand(g);for(var v=0;c>v;v++)u[v]in d&&(f[u[v]]=d[u[v]]);if(d.useIframeTransport&&("string"==typeof d.useIframeTransport&&(d.useIframeTransport=n.uritemplate.parse(d.useIframeTransport)),f.iframeTransportUrl=d.useIframeTransport.expand(g)),d.overridePostData){var m;if("Array"==n.getType(d.overridePostData)){m={};for(var y=0;d.overridePostData.length>y;y++)m[d.overridePostData[y]]=h[d.overridePostData[y]]}else m=h;f.overridePostData=m}return f},getType:function(e){return a[e]}};t.exports=l},{"./collection":41,"./errors":44,"./methods.json":47,"./object":48,"./utils":60}],50:[function(e,t){var r=e("../utils");t.exports={count:function(){var e=this.prop("items");return e&&e.length?r.reduce(e,function(e,t){return e+t.quantity},0):0}}},{"../utils":60}],51:[function(e,t){var r=e("../utils"),n=e("../errors");t.exports=function(){function e(e,r){var n=e.maskCharacter;return r?-1!==r.indexOf(n)||t(r):!1}function t(e){var t,r,n,i,o;for(i="",t=0;e.length>t;t++)n=parseInt(e.charAt(t),10),n>=0&&9>=n&&(i=n+i);if(1>=i.length)return!1;for(o="",t=0;i.length>t;t++)n=parseInt(i.charAt(t),10),0!=t%2&&(n*=2),o+=n;for(r=0,t=0;o.length>t;t++)n=parseInt(o.charAt(t),10),r+=n;return 0!=r&&0==r%10}function i(e,t){var r=RegExp(e.maskPattern),i=t.match(r),o=t,a=[],s=e.maskCharacter,u="";i||n.throwOnObject(e,"MASK_PATTERN_INVALID");for(var c=1;i.length>c;c++){u="";for(var f=0;i[c].length>f;f++)u+=s;o=o.replace(i[c],u)}for(c=o.length-1;c>=0;c--)a.unshift(o.charAt(c)===s?t.charAt(c):s);return e.maskedCardNumber=o,a.join("")}function o(t){var r,o=t.data,u=t.maskCharacter;o.paymentOrCardType||n.throwOnObject(t,"CARD_TYPE_MISSING"),o.cardNumberPartOrMask||n.throwOnObject(t,"CARD_NUMBER_MISSING"),o.cvv||n.throwOnObject(t,"CVV_MISSING"),r=s.toCardData(o);var c=r.cardNumber.replace(a,"");return e(t,c)||n.throwOnObject(t,"CARD_NUMBER_UNRECOGNIZED"),-1===c.indexOf(u)&&(r.numberPart=i(t,c)),delete r.cardNumber,r}n.register({CARD_TYPE_MISSING:"Card type missing.",CARD_NUMBER_MISSING:"Card number missing.",CVV_MISSING:"Card security code missing.",CARD_NUMBER_UNRECOGNIZED:"Card number is in an unrecognized format.",MASK_PATTERN_INVALID:"Supplied mask pattern did not match a valid card number."});var a=/[\s-]/g,s={fields:{cardNumber:"cardNumberPartOrMask",persistCard:"isCardInfoSaved",cardholderName:"nameOnCard",cardType:"paymentOrCardType",cardId:"paymentServiceCardId",cvv:"cvv"},toStorefrontData:function(e){var t={};for(var r in this.fields)r in e&&(t[this.fields[r]]=e[r]);return t},toCardData:function(e){var t={};for(var r in this.fields)this.fields[r]in e&&(t[r]=e[this.fields[r]]);return t}};return{maskCharacter:"*",maskPattern:"^(\\d+?)\\d{4}$",save:function(){var e=this,t=this.prop(s.fields.cardId);return this.api.action(this,t?"update":"save",o(this)).then(function(n){return e.prop(s.toStorefrontData({cardNumber:e.maskedCardNumber,cvv:e.prop("cvv").replace(/\d/g,e.maskCharacter),cardId:t||n})),e.fire("sync",r.clone(e.data),e.data),e})},saveToCustomer:function(e){var t=this;return this.save().then(function(r){r=r||t.prop("id");var i=t.api.createSync("customer",{id:e});return n.passFrom(i,this),i.addCard(t.data)})},getOrderData:function(){return{cardNumberPartOrMask:this.maskedCardNumber,cvv:this.data.cvv,nameOnCard:this.data.nameOnCard,paymentOrCardType:this.data.paymentOrCardType||this.data.cardType,paymentServiceCardId:this.data.paymentServiceCardId||this.data.cardId,isCardInfoSaved:this.data.isCardInfoSaved||this.data.persistCard,expireMonth:this.data.expireMonth,expireYear:this.data.expireYear}
}}}()},{"../errors":44,"../utils":60}],52:[function(e,t){var r=e("../utils"),n=e("../errors");t.exports=function(){return{postconstruct:function(){var e=this;this.on("sync",function(t){t&&t.authTicket&&t.authTicket.accessToken&&(e.api.context.UserClaims(t.authTicket.accessToken),e.api.fire("login",t.authTicket))})},savePaymentCard:function(e){var t=this,i=this.api.createSync("creditcard",e),o=!(!e.paymentServiceCardId&&!e.id);return n.passFrom(i,this),i.save().then(function(e){var n=r.clone(e.data);return n.cardNumberPart=n.cardNumberPartOrMask||n.cardNumber,n.id=n.paymentServiceCardId,delete n.cardNumber,delete n.cardNumberPartOrMask,delete n.paymentServiceCardId,o?t.updateCard(n):t.addCard(n)})},deletePaymentCard:function(e){var t=this;return this.deleteCard(e).then(function(){return t.api.del("creditcard",e)})},getStoreCredits:function(){var e=this.api.createSync("storecredits");return n.passFrom(e,this),e.get()},addStoreCredit:function(e){var t=this.api.createSync("storecredit",{code:e});return n.passFrom(t,this),t.associateToShopper()},getMinimumPartial:function(){return{firstName:this.prop("firstName"),lastName:this.prop("lastName"),emailAddress:this.prop("emailAddress")}},update:function(e){return this.api.action(this,"update",r.extend(this.getMinimumPartial(),r.clone(e)))}}}()},{"../errors":44,"../utils":60}],53:[function(e,t){var r=e("../utils");t.exports=function(){var e=function(){var e=function(e){return e*Math.PI/180};return function(t,r,n){var i=3960,o=6371;n=n||{};var a="km"===n.unit?o:i,s=e(r.latitude-t.latitude),u=e(r.longitude-t.longitude),c=e(t.latitude),f=e(r.latitude),l=Math.sin(s/2)*Math.sin(s/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(c)*Math.cos(f),h=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));return n.threshold?n.threshold>a*h:a*h}}();return{getByLatLong:function(t){var n=this;return this.api.action("locations","get-by-lat-long",{latitude:t.location.coords.latitude,longitude:t.location.coords.longitude}).then(function(i){for(var o=i.data.items,a=0,s=o.length;s>a;a++)o[a].distance=e(t.location.coords,{latitude:o[a].geo.lat,longitude:o[a].geo.lng}).toFixed(1);var u=r.clone(i.data);return n.fire("sync",u,u),n})},getForProduct:function(t){var n,i=this,o=t.location?this.api.action("locations","get-by-lat-long",{latitude:t.location.coords.latitude,longitude:t.location.coords.longitude}):this.api.get("locations");return o.then(function(e){n=e;var o=r.map(n.data.items,function(e){return e.code}).join(",");return i.api.action("product","getInventory",{productCode:t.productCode,locationCodes:o})}).then(function(o){for(var a,s,u=n.data.items,c=o.items,f=[],l=0,h=u.length;h>l;l++)for(a=0,s=c.length;s>a;a++)if(c[a].locationCode===u[l].code){u[l].quantity=c[a].stockAvailable,t.location&&(u[l].distance=e(t.location.coords,{latitude:u[l].geo.lat,longitude:u[l].geo.lng}).toFixed(1)),f.push(u[l]),c.splice(a,1);break}var d={items:r.clone(f)};return i.fire("sync",d,d),i})}}}()},{"../utils":60}],54:[function(e,t){t.exports={postconstruct:function(e,t){var r;t.authTicket&&t.authTicket.accessToken?r=t.authTicket.accessToken:t.accessToken&&(r=t.accessToken),r&&(this.api.context.UserClaims(r),this.api.fire("login",t))}}},{}],55:[function(e,t){var r=e("../errors"),n=e("../constants/default"),i=e("../utils"),o=e("../reference");t.exports=function(){r.register({BILLING_INFO_MISSING:"Billing info missing.",PAYMENT_TYPE_MISSING_OR_UNRECOGNIZED:"Payment type missing or unrecognized.",PAYMENT_MISSING:"Expected a payment to exist on this order and one did not.",PAYPAL_TRANSACTION_ID_MISSING:"Expected the active payment to include a paymentServiceTransactionId and it did not.",ORDER_CANNOT_SUBMIT:"Order cannot be submitted. Is order complete?",ADD_COUPON_FAILED:"Adding coupon failed for the following reason: {0}",ADD_CUSTOMER_FAILED:"Adding customer failed for the following reason: {0}"});var e={};e[n.ORDER_STATUSES.SUBMITTED]=!0,e[n.ORDER_STATUSES.ACCEPTED]=!0,e[n.ORDER_STATUSES.PENDING_REVIEW]=!0;var t={};t[n.ORDER_ACTIONS.SUBMIT_ORDER]=!0,t[n.ORDER_ACTIONS.ACCEPT_ORDER]=!0;var a={PaypalExpress:function(e,t){return e.createPayment({returnUrl:t.paypalReturnUrl,cancelUrl:t.paypalCancelUrl}).ensure(function(){var t=e.getCurrentPayment();t||r.throwOnObject(e,"PAYMENT_MISSING"),t.paymentServiceTransactionId||r.throwOnObject(e,"PAYPAL_TRANSACTION_ID_MISSING"),window.location=o.urls.paypalExpress+(-1===o.urls.paypalExpress.indexOf("?")?"?":"&")+"token="+t.paymentServiceTransactionId})},CreditCard:function(e,t){var n=e.api.createSync("creditcard",t.card);return r.passFrom(n,e),n.save().then(function(r){return t.card=r.getOrderData(),e.prop("billingInfo",t),e.createPayment()})},Check:function(e){return e.createPayment()}};return{addCoupon:function(e){var t=this;return this.applyCoupon(e).then(function(){return t.get()},function(e){r.throwOnObject(t,"ADD_COUPON_FAILED",e.message)})},addNewCustomer:function(e){var t=this;return t.api.action("customer","createStorefront",e).then(function(){return t.setUserId()},function(e){r.throwOnObject(t,"ADD_CUSTOMER_FAILED",e.message)})},createPayment:function(e){return this.api.action(this,"createPayment",i.extend({currencyCode:this.api.context.Currency().toUpperCase(),amount:this.prop("amountRemainingForPayment"),newBillingInfo:this.prop("billingInfo")},e||{}))},addStoreCredit:function(e){return this.createPayment({amount:e.amount,newBillingInfo:{paymentType:"StoreCredit",storeCreditCode:e.storeCreditCode}})},addPayment:function(e){var t=e||this.prop("billingInfo");return t||r.throwOnObject(this,"BILLING_INFO_MISSING"),t.paymentType&&t.paymentType in a||r.throwOnObject(this,"PAYMENT_TYPE_MISSING_OR_UNRECOGNIZED"),a[t.paymentType](this,t)},getActivePayments:function(){var e=this.prop("payments"),t=[];if(0!==e.length)for(var r=e.length-1;r>=0;r--)e[r].status===n.PAYMENT_STATUSES.NEW&&t.push(i.clone(e[r]));return t},getCurrentPayment:function(){for(var e=this.getActivePayments(),t=e.length-1;t>=0;t--)if("StoreCredit"!==e[t].paymentType)return e[t]},getActiveStoreCredits:function(){for(var e=this.getActivePayments(),t=[],r=e.length-1;r>=0;r--)"StoreCredit"===e[r].paymentType&&t.unshift(e[r]);return t},voidPayment:function(e){var t=this;return this.performPaymentAction({paymentId:e,actionName:n.PAYMENT_ACTIONS.VOID}).then(function(e){return(e||0===e||e===!1)&&(delete e.billingInfo,t.data=i.clone(e)),delete t.unsynced,t.fire("sync",e,t.data),t.api.fire("sync",t,e,t.data),t})},checkout:function(){var e=this.prop("availableActions");if(!this.isComplete())for(var n=e.length-1;n>=0;n--)if(e[n]in t)return this.performOrderAction(e[n]);r.throwOnObject(this,"ORDER_CANNOT_SUBMIT")},isComplete:function(){return!!e[this.prop("status")]}}}()},{"../constants/default":42,"../errors":44,"../reference":49,"../utils":60}],56:[function(e,t){var r=e("../errors"),n=e("../utils"),i=e("../constants/default");t.exports={addToWishlist:function(e){var t=this,n=this.api.createSync("wishlist",{customerAccountId:e.customerAccountId});return n.getOrCreate().then(function(){return r.passFrom(n,t),n.addItem({quantity:e.quantity,currencyCode:e.currencyCode||t.api.context.Currency(),localeCode:e.localeCode||t.api.context.Locale(),product:t.data})})},addToCartForPickup:function(e){return this.addToCart(n.extend({},this.data,{fulfillmentMethod:i.FULFILLMENT_METHODS.PICKUP},e))}}},{"../constants/default":42,"../errors":44,"../utils":60}],57:[function(e,t){t.exports={getShippingMethodsFromContact:function(){var e=this;return e.update({fulfillmentContact:e.prop("fulfillmentContact")}).then(function(){return e.getShippingMethods()})}}},{}],58:[function(e,t){t.exports={postconstruct:function(){var e=this;this.on("sync",function(t){t&&t.authTicket&&t.authTicket.accessToken&&(e.api.context.UserClaims(t.authTicket.accessToken),e.api.fire("login",t.authTicket))})},createAndLogin:function(e){var t=this;return e||(e=this.data),this.create(e).then(function(){return t.login({emailAddress:e.emailAddress,password:e.password})})},createWithCustomer:function(e){var t=this;return this.createAndLogin(e).then(function(){return t.api.action("customer","create",{userId:t.prop("id")})}).then(function(e){return e.addContact({email:t.prop("emailAddress"),firstName:t.prop("firstName"),lastNameOrSurname:t.prop("lastName"),address:{}})})}}},{}],59:[function(e,t){var r=e("../errors");e("../utils"),t.exports=function(){r.register({NO_ITEMS_IN_WISHLIST:"No items in wishlist.",NO_MATCHING_ITEM_IN_WISHLIST:"No wishlist item matching ID {0}"});var e=function(e,t){var n=e.prop("items");if(!n||0===n.length)return r.throwOnObject(e,"NO_ITEMS_IN_WISHLIST");if("string"==typeof t){for(var i=n.length-1;i>=0;i--)if(n[i].id===t){t=n[i];break}if("string"==typeof t)return r.throwOnObject(e,"NO_MATCHING_ITEM_IN_WISHLIST",t)}return t};return{getOrCreate:function(e){var t=this;return this.getDefault({customerAccountId:e}).then(function(e){return e},function(){return t.createDefault({customerAccountId:e})})},addItemToCartById:function(t){return this.addItemToCart(e(this,t))},get:function(){var e=this;return this.getItemsByName().then(function(t){return e.prop("items",t),e.fire("sync",e.data,e),e})}}}()},{"../errors":44,"../utils":60}],60:[function(e,t){var r,n=e("__browserify_process"),i=20,o=e("microevent"),a="object"==typeof n&&"node"===n.title,s=a?function(){return r=r||e("xmlhttprequest").XMLHttpRequest,new r}:window.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new window.ActiveXObject("Microsoft.XMLHTTP")},u={extend:function(){for(var e,t,r,n=arguments[0],i=1,o=arguments.length;o>i;i++)if(null!=(r=arguments[i]))for(t in r)e=r[t],n!==e&&void 0!==e&&(n[t]=e);return n},clone:function(e){return JSON.parse(JSON.stringify(e))},flatten:function(e,t,r,n,o){if(0===o)throw"Cannot flatten circular object.";o||(o=i),t=t||{},n=n||".",r=r||"";for(var a in e)key=a,val=e[a],e.hasOwnProperty(key)&&(!val||"object"!=typeof val||val instanceof Array||val instanceof Date||val instanceof RegExp?t[r+key]=val:u.flatten(val.toJSON?val.toJSON():val,t,r+key+n,n,--o));return t},inherit:function(e,t){var r=function(){this.construct&&this.construct.apply(this,arguments),e.apply(this,arguments),this.postconstruct&&this.postconstruct.apply(this,arguments)};return r.prototype=u.extend(new e,t),r},map:function(e,t,r){var n=[],i=e.length;r=r||window;for(var o=0;i>o;o++)n[o]=t.call(r,e[o]);return n},reduce:function(e,t,r){for(var n=-1,i=e.length;i>++n;)r=t(r,e[n],n,e);return r},slice:function(e,t){return Array.prototype.slice.call(e,t)},indexOf:function(e){return e&&"function"==typeof e?function(t,r){return e.call(t,r)}:function(e,t){var r=0;for(e.length;length>r;r++)if(e[r]===t)return r;return-1}}(Array.prototype.indexOf),formatString:function(e){for(var t=e,r=u.slice(arguments,1),n=0,i=r.length;i>n;n++)t=t.split("{"+n+"}").join(r[n]||"");return t},setOp:function(e,t){e[t]=function(e){return this.api.action(this,t,e)}},getType:function(){var e=/\[object (\w+)\]/;return function(t){var r=e.exec(Object.prototype.toString.call(t));return r&&r[1]}}(),camelCase:function(){var e=/-([\da-z])/gi,t=function(e,t){return t.toUpperCase()};return function(r,n){return(n?r.charAt(0).toUpperCase()+r.substring(1):r).replace(e,t)}}(),dashCase:function(){var e=/([a-z])([A-Z])/g,t="$1-$2";return function(r){return r.replace(e,t).toLowerCase()}}(),request:function(e,t,r,n,i,o,a){"string"!=typeof n&&(n=JSON.stringify(n));var u=a?new IframeXHR(a):s(),c=setTimeout(function(){clearTimeout(c),o({items:[{message:"Request timed out.",code:"TIMEOUT"}]},u)},6e4);if(u.onreadystatechange=function(){if(4===u.readyState){clearTimeout(c);var e=null;if(u.responseText&&u.responseText.length>0)try{e=JSON.parse(u.responseText)}catch(t){o({items:[{message:"Unable to parse response: "+u.responseText,code:"UNKNOWN"}]},u,t)}u.status>=200&&300>u.status||304===u.status?i(e,u):o(e||{items:[{message:"Request failed, no response given.",code:u.status}]},u)}},u.open(e||"GET",t),r)for(var f in r)r[f]&&u.setRequestHeader(f,r[f]);return u.setRequestHeader("Content-type","application/json"),u.setRequestHeader("Accept","application/json"),u.send("GET"!==e&&n),u},pipeline:function(e){var t=function(e,r){return t=function(e,t){return t(e)},r.apply(null,e)};return u.when.all(Array.prototype.slice.call(arguments,1)).then(function(r){return u.when.reduce(e,function(e,r){return t(e,r)},r)})},when:e("when"),uritemplate:e("uritemplate"),addEvents:function(e){o.mixin(e),e.prototype.on=e.prototype.bind,e.prototype.off=e.prototype.unbind,e.prototype.fire=e.prototype.trigger}};t.exports=u},{__browserify_process:10,microevent:29,uritemplate:30,when:39,xmlhttprequest:40}]},{},[45])(45)});